import{i as Q,A as B,Q as V,d as P}from"./AndroidPWAPrompt.5696b6f0.js";import{x as E,m as A,z as g,l as _,j as T,y as F,D as L,Y as z,f as N,E as y,W as v,G as d,H as b,J as a,t as o,I as n,K as x,M as c,L as f,V as h,O as S,F as O,aG as U,aH as R,ax as D,r as H,o as G,w as j,Q as q}from"./index.51f2b46b.js";import{b as J,Q as K}from"./QSelect.b95fad3e.js";import{Q as M}from"./QDialog.4aac6bf6.js";import{u as w,Q as Y}from"./welcome.41a750b0.js";import{E as X}from"./ui.f9c7454a.js";import{Q as C}from"./QCheckbox.681ba086.js";import{u as Z}from"./i18n.79f7761c.js";import{a as ee,b as te,c as $}from"./branding.c750d619.js";import{t as oe}from"./trails-logo.55705fef.js";import"./use-timeout.040996d9.js";import"./touch.9135741d.js";import"./selection.bfd41920.js";import"./use-key-composition.9fe2965e.js";import"./private.use-form.8e692222.js";import"./QItem.b906d612.js";import"./position-engine.d1b63720.js";import"./scroll.d64191c5.js";import"./focusout.5ce79b63.js";import"./use-prevent-scroll.397e4d9c.js";var ae=E({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:s}){const{proxy:{$q:m}}=N(),t=A(L,g);if(t===g)return console.error("QPage needs to be a deep child of QLayout"),g;if(A(z,g)===g)return console.error("QPage needs to be child of QPageContainer"),g;const p=_(()=>{const l=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const r=t.isContainer.value===!0?t.containerHeight.value:m.screen.height;return e.styleFn(l,r)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-l+"px":m.screen.height===0?l!==0?`calc(100vh - ${l}px)`:"100vh":m.screen.height-l+"px"}}),i=_(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>T("main",{class:i.value,style:p.value},F(s.default))}}),le="/assets/bitpoints-logo.25549e48.png";const se={name:"WelcomeSlide1",setup(){const e=w(),{t:s}=Z(),m=_(()=>ee()),t=_(()=>$()==="trails"?oe:le),u=_(()=>te()),p=_(()=>`Welcome to ${m.value.shortName}`),i=_(()=>$()==="trails"?"Your personal Bitcoin-backed rewards points. Receive and manage your points securely.":s("WelcomeSlide1.text"));return{welcomeStore:e,brandLogo:t,brandName:u,welcomeTitle:p,welcomeText:i}}},ne={class:"q-pa-md flex flex-center"},ie={class:"text-center"},re=["src","alt"],ce={class:"q-mt-md"},de={class:"text-left"},me={class:"q-mt-sm"},ue={href:"https://cashu.space",target:"_blank"};function pe(e,s,m,t,u,p){const i=v("i18n-t");return d(),b("div",ne,[a("div",ie,[o(x,{appear:"","enter-active-class":"animated bounce"},{default:n(()=>[a("img",{src:t.brandLogo,alt:t.brandName,class:"q-my-lg",style:{"max-width":"250px",height:"auto"}},null,8,re)]),_:1}),a("h2",ce,c(t.welcomeTitle),1),a("div",de,[a("p",me,c(t.welcomeText),1),o(Y,{dense:"","dense-toggle":"",class:"text-left q-mt-lg",label:e.$t("WelcomeSlide1.actions.more.label")},{default:n(()=>[o(i,{keypath:"WelcomeSlide1.p1.text",tag:"p",class:"q-mt-md"},{link:n(()=>[a("a",ue,c(e.$t("WelcomeSlide1.p1.link.text")),1)]),_:1}),o(i,{keypath:"WelcomeSlide1.p2.text",tag:"p",class:"q-mt-md"}),o(i,{keypath:"WelcomeSlide1.p3.text",tag:"p",class:"q-mt-md"}),o(i,{keypath:"WelcomeSlide1.p4.text",tag:"p",class:"q-mt-md"})]),_:1},8,["label"]),o(C,{modelValue:t.welcomeStore.termsAccepted,"onUpdate:modelValue":s[0]||(s[0]=l=>t.welcomeStore.termsAccepted=l),label:e.$t("WelcomeSlide1.inputs.checkbox.label","I have read and agree to the terms"),class:"q-mt-lg"},null,8,["modelValue","label"])])])])}var _e=y(se,[["render",pe],["__scopeId","data-v-e0187d74"]]);const ge={name:"WelcomeSlide2",components:{iOSPWAPrompt:Q,AndroidPWAPrompt:B},setup(){return{welcomeStore:w(),isPWA:()=>window.matchMedia("(display-mode: standalone)").matches}}},k=e=>(U("data-v-012445d0"),e=e(),R(),e),he={class:"q-pa-md flex flex-center"},fe={class:"text-center relative-position"},Se=k(()=>a("h2",{class:"q-mt-xl"},"Install PWA",-1)),ve={key:2,class:"text-left"},be={class:"q-mt-md instruction"},We={class:"sub-instruction"},xe=k(()=>a("br",null,null,-1)),ye={class:"sub-instruction"},we=k(()=>a("br",null,null,-1)),ke={key:3,class:"text-center"},Pe={class:"q-mt-lg"},Ae={class:"q-mt-md"},qe={class:"q-mt-lg text-left"};function $e(e,s,m,t,u,p){const i=v("i18n-t"),l=v("iOSPWAPrompt"),r=v("AndroidPWAPrompt");return d(),b(O,null,[a("div",he,[a("div",fe,[t.isPWA()?(d(),f(x,{key:0,appear:"","enter-active-class":"animated bounceIn"},{default:n(()=>[o(h,{name:"check_circle",size:"4em",color:"positive"})]),_:1})):(d(),f(h,{key:1,name:"download_for_offline",size:"4em",color:"primary"})),Se,t.isPWA()?S("",!0):(d(),b("div",ve,[a("p",be,c(e.$t("WelcomeSlide2.instruction.intro.text")),1),a("h6",null,c(e.$t("WelcomeSlide2.instruction.android.title")),1),a("p",We,[o(i,{keypath:"WelcomeSlide2.instruction.android.step1.item"},{icon:n(()=>[o(h,{name:"more_vert",size:"1.5em",class:"q-pr-xs"})]),text:n(()=>[a("span",null,c(e.$t("WelcomeSlide2.instruction.android.step1.text")),1)]),_:1}),xe,o(i,{keypath:"WelcomeSlide2.instruction.android.step2.item"},{icon:n(()=>[o(h,{name:"mobile_friendly",size:"1.2em",class:"q-pr-xs"})]),text:n(()=>[o(i,{keypath:"WelcomeSlide2.instruction.android.step2.text"},{buttonText:n(()=>[a("strong",null,c(e.$t("WelcomeSlide2.instruction.android.step2.buttonText")),1)]),_:1})]),_:1})]),a("h6",null,c(e.$t("WelcomeSlide2.instruction.ios.title")),1),a("p",ye,[o(i,{keypath:"WelcomeSlide2.instruction.ios.step1.item"},{icon:n(()=>[o(h,{name:"ios_share",size:"1.2em",class:"q-pr-xs"})]),text:n(()=>[a("span",null,c(e.$t("WelcomeSlide2.instruction.ios.step1.text")),1)]),_:1}),we,o(i,{keypath:"WelcomeSlide2.instruction.ios.step2.item"},{icon:n(()=>[o(h,{name:"add_box_outline",size:"1.2em",class:"q-pr-xs"})]),text:n(()=>[o(i,{keypath:"WelcomeSlide2.instruction.ios.step2.text"},{buttonText:n(()=>[a("strong",null,c(e.$t("WelcomeSlide2.instruction.ios.step2.buttonText")),1)]),_:1})]),_:1})]),a("p",null,c(e.$t("WelcomeSlide2.instruction.outro.text")),1)])),t.isPWA()?(d(),b("div",ke,[o(x,{appear:"","enter-active-class":"animated tada"},{default:n(()=>[a("h3",Pe,c(e.$t("WelcomeSlide2.pwa.success.title")),1)]),_:1}),a("p",Ae,c(e.$t("WelcomeSlide2.pwa.success.text")),1)])):S("",!0),a("div",qe,[o(C,{modelValue:t.welcomeStore.seedPhraseValidated,"onUpdate:modelValue":s[0]||(s[0]=W=>t.welcomeStore.seedPhraseValidated=W),label:e.$t("WelcomeSlide2.inputs.checkbox.label","I understand how to backup my wallet")},null,8,["modelValue","label"])])])]),t.isPWA()?S("",!0):(d(),f(l,{key:0})),t.isPWA()?S("",!0):(d(),f(r,{key:1}))],64)}var Ce=y(ge,[["render",$e],["__scopeId","data-v-012445d0"]]);const Ie={name:"WelcomePage",components:{WelcomeSlide1:_e,WelcomeSlide2:Ce},data(){return{selectedLanguage:"",languageOptions:[{label:"English",value:"en-US"},{label:"Espa\xF1ol",value:"es-ES"},{label:"Italiano",value:"it-IT"},{label:"Deutsch",value:"de-DE"},{label:"Fran\xE7ais",value:"fr-FR"},{label:"Svenska",value:"sv-SE"},{label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",value:"el-GR"},{label:"T\xFCrk\xE7e",value:"tr-TR"},{label:"\u0E44\u0E17\u0E22",value:"th-TH"},{label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",value:"ar-SA"},{label:"\u4E2D\u6587",value:"zh-CN"},{label:"\u65E5\u672C\u8A9E",value:"ja-JP"}]}},methods:{changeLanguage(e){this.$i18n.locale=e,localStorage.setItem("cashu.language",e)}},created(){this.selectedLanguage=this.languageOptions.find(e=>e.value===this.$i18n.locale||navigator.language)?.label||"Language"},setup(){const e=D(),s=w(),m=X(),t=H(null),u=()=>{const l=t.value.files[0];l&&p(l)},p=l=>{const r=new FileReader;r.onload=W=>{const I=JSON.parse(W.target.result);m.restoreFromBackup(I)},r.readAsText(l)},i=l=>{const r=l.dataTransfer.files[0];r&&p(r)};return G(()=>{if(!s.showWelcome){e.push("/");return}s.initializeWelcome()}),j(()=>s.showWelcome,l=>{l||e.push("/")}),{welcomeStore:s,fileUpload:t,onChangeFileUpload:u,dragFile:i}}},Qe={class:"q-pa-md flex justify-between"},Be={key:1,class:"q-ml-md",style:{position:"relative",top:"-5px"}};function Ve(e,s,m,t,u,p){const i=v("WelcomeSlide1"),l=v("WelcomeSlide2");return d(),f(ae,{class:"welcome-page"},{default:n(()=>[o(M,{class:"q-pa-none full-height"},{default:n(()=>[o(V,{modelValue:t.welcomeStore.currentSlide,"onUpdate:modelValue":s[0]||(s[0]=r=>t.welcomeStore.currentSlide=r),animated:"","control-color":"primary",class:"flex-1"},{default:n(()=>[o(P,{name:0},{default:n(()=>[o(i)]),_:1}),o(P,{name:1},{default:n(()=>[o(l)]),_:1})]),_:1},8,["modelValue"]),a("div",Qe,[t.welcomeStore.canGoPrev?(d(),f(q,{key:0,flat:"",icon:"arrow_left",label:e.$t("WelcomePage.actions.previous.label"),onClick:t.welcomeStore.goToPrevSlide},null,8,["label","onClick"])):S("",!0),t.welcomeStore.canGoPrev?S("",!0):(d(),b("div",Be,[o(J,{modelValue:u.selectedLanguage,"onUpdate:modelValue":[s[1]||(s[1]=r=>u.selectedLanguage=r),p.changeLanguage],options:u.languageOptions,"emit-value":"",dense:"","map-options":"",style:{"max-width":"200px","max-height":"20px"}},null,8,["modelValue","options","onUpdate:modelValue"])])),o(K),o(q,{flat:"",icon:"arrow_right",label:e.$t("WelcomePage.actions.next.label"),disable:!t.welcomeStore.canProceed,onClick:t.welcomeStore.goToNextSlide},null,8,["label","disable","onClick"])])]),_:1})]),_:1})}var tt=y(Ie,[["render",Ve],["__scopeId","data-v-84430db8"]]);export{tt as default};
