import{a as s,r}from"./focusout.50db9984.js";import{r as l,C as c,u}from"./ui.64f31f6c.js";import{_ as d}from"./index.7a0464ee.js";import"./index.81b98c8b.js";import"./i18n.e67af30b.js";function f(t){const e=document.createElement("textarea");e.value=t,e.contentEditable="true",e.style.position="fixed";const o=()=>{};s(o),document.body.appendChild(e),e.focus(),e.select();const n=document.execCommand("copy");return e.remove(),r(o),n}function m(t){return navigator.clipboard!==void 0?navigator.clipboard.writeText(t):new Promise((e,o)=>{const n=f(t);n?e(!0):o(n)})}const a=l("SafeArea",{web:()=>d(()=>import("./web.25db767f.js"),["assets/web.25db767f.js","assets/ui.64f31f6c.js","assets/index.7a0464ee.js","assets/index.b3bf3286.css","assets/index.81b98c8b.js","assets/i18n.e67af30b.js"]).then(t=>new t.SafeAreaWeb)});window.LOCALE="en";window.windowMixin={data:function(){return{g:{offline:!navigator.onLine,visibleDrawer:!1,extensions:[],user:null,wallet:null,payments:[],allowedThemes:null}}},methods:{changeColor:function(t){document.body.setAttribute("data-theme",t),this.$q.localStorage.set("cashu.theme",t)},changeLanguage:function(t){this.$q.localStorage.set("cashu.language",t.target.value)},toggleDarkMode:function(){this.$q.dark.toggle(),this.$q.localStorage.set("cashu.darkMode",this.$q.dark.isActive)},copyText:function(t,e,o){let n=this.$q.notify,i=this.$i18n;m(t).then(function(){n({message:e||i&&i.t("global.copy_to_clipboard.success")||"Copied to clipboard!",position:o||"bottom"})})},pasteFromClipboard:async function(){let t="";if(window?.Capacitor){const{value:e}=await c.read();t=e}else t=await navigator.clipboard.readText();return t},formatCurrency:function(t,e,o=!1){return e==null&&(e="points"),u().hideBalance&&!o?"****":e=="points"?this.formatPoints(t):e=="msat"?this.fromMsat(t):(e=="usd"&&(t=t/100),e=="eur"&&(t=t/100),new Intl.NumberFormat(window.LOCALE,{style:"currency",currency:e}).format(t))},formatPoints:function(t){return new Intl.NumberFormat(window.LOCALE).format(t)+" points"},fromMsat:function(t){return t=parseInt(t),new Intl.NumberFormat(window.LOCALE).format(t)+" msat"},notifyApiError:function(t){var e={400:"warning",401:"warning",500:"negative"};this.$q.notify({timeout:5e3,type:e[t.response.status]||"warning",message:t.message||t.response.data.message||t.response.data.detail||null,caption:[t.response.status," ",t.response.statusText].join("").toUpperCase()||null,icon:null})},notifySuccess:async function(t,e="top"){this.$q.notify({timeout:5e3,type:"positive",message:t,position:e,progress:!0,actions:[{icon:"close",color:"white",handler:()=>{}}]})},notifyRefreshed:async function(t,e="top"){this.$q.notify({timeout:500,type:"positive",message:t,position:e,actions:[{color:"white",handler:()=>{}}]})},notifyError:async function(t,e=null){this.$q.notify({color:"red",message:t,caption:e,position:"top",progress:!0,actions:[{icon:"close",color:"white",handler:()=>{}}]})},notifyWarning:async function(t,e=null,o=5e3){this.$q.notify({timeout:o,type:"warning",message:t,caption:e,position:"top",progress:!0,actions:[{icon:"close",color:"black",handler:()=>{}}]})},notify:async function(t,e="null",o="top",n=null,i=null){this.$q.notify({timeout:5e3,type:"nuill",color:"grey",message:t,caption:null,position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]})}},created:function(){this.$q.localStorage.getItem("cashu.darkMode")==!0||this.$q.localStorage.getItem("cashu.darkMode")==!1?this.$q.dark.set(this.$q.localStorage.getItem("cashu.darkMode")):this.$q.dark.set(!0),this.g.allowedThemes=window.allowedThemes??["classic"],addEventListener("offline",e=>{this.g.offline=!0}),addEventListener("online",e=>{this.g.offline=!1}),this.$q.localStorage.getItem("cashu.theme")?document.body.setAttribute("data-theme",this.$q.localStorage.getItem("cashu.theme")):this.changeColor("mint");const t=this.$q.localStorage.getItem("cashu.language");t&&(this.$i18n.locale=t),window.Capacitor&&Capacitor.getPlatform()==="ios"&&(a.getStatusBarHeight().then(({statusBarHeight:e})=>{document.documentElement.style.setProperty("--safe-area-inset-top",`${e}px`)}),a.removeAllListeners(),a.addListener("safeAreaChanged",e=>{const{insets:o}=e;for(const[n,i]of Object.entries(o))document.documentElement.style.setProperty(`--safe-area-inset-${n}`,`${i}px`)}))}};
