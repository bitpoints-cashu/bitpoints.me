import{Q as r,a as d,b as c}from"./QItem.b906d612.js";import{h as de,at as ee,au as Q,E as ue,W,G as u,L as p,I as l,J as a,t,S as n,M as s,Q as m,B as z,O as f,l as re,o as He,V as h,u as E,H as D,ap as Ne,aG as qe,aH as De,r as Y,F as j,aw as te,aF as Oe,aB as We,az as me,a as Ye,av as O}from"./index.51f2b46b.js";import{Q as F,g as Je}from"./QInput.50fcf8ad.js";import{Q as B}from"./QList.cb9031bc.js";import{h as he,d as Ze,a as L,u as Le,g as Pe,e as be,Q as N,C as Ke,b as ae,P as je,F as Xe,i as Te}from"./npcv2.b2907565.js";import{Q as q,a as xe}from"./QSpinnerDots.e67e540c.js";import{Q as X,a as le}from"./QDialog.4aac6bf6.js";import{C as Z,Q as et}from"./QSpinnerHourglass.d9a54d40.js";import{Q as H}from"./QBadge.afd40254.js";import{a as ye,u as tt,Q as Se}from"./welcome.41a750b0.js";import{b as we,Q as Be}from"./QSelect.b95fad3e.js";import{i as ze}from"./vue-qrcode.esm.527d4b00.js";import{y as lt,f as se,b as fe,x as ke,d as Ge,g as ge,p as M,v as ie,z as Ue,r as ot,u as Re,Y as nt,e as Me,a as at,h as Ce,B as $e,o as st,D as it,E as rt}from"./ui.f9c7454a.js";import{Q as dt}from"./QCheckbox.681ba086.js";import{u as ut}from"./restore.7c97e1d5.js";import{u as Fe}from"./branding.c750d619.js";import"./use-timeout.040996d9.js";import"./use-key-composition.9fe2965e.js";import"./private.use-form.8e692222.js";import"./i18n.79f7761c.js";import"./position-engine.d1b63720.js";import"./selection.bfd41920.js";import"./scroll.d64191c5.js";import"./use-prevent-scroll.397e4d9c.js";import"./focusout.5ce79b63.js";const ct=de({name:"NWCDialog",mixins:[windowMixin],components:{VueQrcode:ze},data:function(){return{}},computed:{...ee(he,["showNWCData"]),...Q(he,["showNWCDialog"])},methods:{}}),pt={class:"text-center q-mb-md q-mt-none q-pt-none"},mt=["href"],ft={class:"row justify-center"},gt={class:"row justify-center"},vt={class:"row justify-center q-pt-md"},yt={class:"row q-mt-lg"};function ht(e,o,S,g,w,v){const b=W("vue-qrcode");return u(),p(le,{modelValue:e.showNWCDialog,"onUpdate:modelValue":o[1]||(o[1]=y=>e.showNWCDialog=y),position:"top","backdrop-filter":"blur(2px) brightness(60%)"},{default:l(()=>[e.showNWCData.connectionString?(u(),p(X,{key:0,class:"q-px-lg q-pt-md q-pb-md qcard"},{default:l(()=>[a("div",pt,[a("a",{href:e.showNWCData.connectionString},[t(Ze,{ratio:1,class:"q-mx-md q-mt-none q-pt-none"},{default:l(()=>[t(b,{value:e.showNWCData.connectionString,options:{width:340},class:"rounded-borders"},null,8,["value"])]),_:1})],8,mt),a("div",ft,[t(L,{class:"q-pa-sm"},{default:l(()=>[a("div",gt,[t(r,{overline:"",class:"q-mb-sm q-pt-md text-white",style:{"font-size":"14px"}},{default:l(()=>[n(s(e.$t("NWCDialog.nwc.caption")),1)]),_:1})]),a("div",vt,[t(r,{caption:"",class:"text-weight-light text-white",style:{"font-size":"12px"}},{default:l(()=>[n(s(e.$t("NWCDialog.nwc.description")),1)]),_:1}),t(r,{caption:"",class:"text-weight-bold text-white q-pt-md"},{default:l(()=>[n(s(e.$t("NWCDialog.nwc.warning_text")),1)]),_:1})])]),_:1})]),a("div",yt,[t(m,{class:"q-mx-xs",size:"md",flat:"",onClick:o[0]||(o[0]=y=>e.copyText(e.showNWCData.connectionString))},{default:l(()=>[n(s(e.$t("NWCDialog.actions.copy.label")),1)]),_:1}),z((u(),p(m,{flat:"",color:"grey",class:"q-ml-auto"},{default:l(()=>[n(s(e.$t("NWCDialog.actions.close.label")),1)]),_:1})),[[Z]])])])]),_:1})):f("",!0)]),_:1},8,["modelValue"])}var bt=ue(ct,[["render",ht]]);const oe=e=>(qe("data-v-9b16b242"),e=e(),De(),e),kt={class:"text-h6"},_t=oe(()=>a("div",{class:"text-caption text-grey-6"}," Configure your Bluetooth mesh networking ",-1)),St=oe(()=>a("div",{class:"text-subtitle2 q-mb-sm"},"Connection Status",-1)),wt=oe(()=>a("div",{class:"text-subtitle2 q-mb-sm"},"Always-On Mode",-1)),Ct=oe(()=>a("div",{class:"text-caption text-grey-6 q-mb-sm"}," For kids' devices without consistent internet - keeps Bluetooth mesh active 24/7 ",-1)),$t={class:"q-mt-sm"},Nt=oe(()=>a("strong",null,"Battery Usage:",-1)),qt={class:"row q-gutter-sm"},Dt={class:"text-caption text-grey-6"},Pt={key:0},Vt=oe(()=>a("strong",null,"Chrome",-1)),Et=oe(()=>a("strong",null,"Edge",-1)),At={key:1},It={key:2},Tt=de({__name:"BluetoothSettings",emits:["openNearbyDialog","openContactsDialog","openRequestsDialog"],setup(e,{emit:o}){const S=o,g=Le(),w=Pe(),v=re(()=>!lt.isNativePlatform()),b=re(()=>{try{return typeof navigator<"u"&&"bluetooth"in navigator}catch($){return console.error("Error checking Web Bluetooth support:",$),!1}});async function y($){$?await g.startService():await g.stopService()}async function C(){try{await g.startService()}catch($){console.error("Failed to connect to Bluetooth device:",$)}}function V(){S("openNearbyDialog")}function P(){S("openNearbyDialog")}function k(){S("openContactsDialog")}function U(){S("openRequestsDialog")}async function G($){try{await g.toggleAlwaysOnMode($)}catch(K){console.error("Failed to toggle always-on mode:",K)}}async function R(){try{await g.requestBatteryOptimizationExemption()}catch($){console.error("Failed to request battery optimization exemption:",$)}}function i(){console.log("Show battery usage information")}return He(async()=>{v.value||await g.checkAlwaysOnStatus()}),($,K)=>(u(),p(X,{flat:"",bordered:""},{default:l(()=>[t(L,null,{default:l(()=>[a("div",kt,[t(h,{name:"bluetooth",class:"q-mr-sm"}),n(" Bluetooth Settings ")]),_t]),_:1}),t(ye),t(L,null,{default:l(()=>[St,v.value&&!E(g).isActive?(u(),p(be,{key:0,dense:"",class:"bg-info text-white q-mb-sm",rounded:""},{avatar:l(()=>[t(h,{name:"info"})]),default:l(()=>[n(' Click "Connect Device" to enable Bluetooth. Your browser will show available devices. ')]),_:1})):f("",!0),t(B,{dense:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(h,{name:E(g).isActive?"bluetooth_connected":"bluetooth_disabled",color:E(g).isActive?"positive":"grey"},null,8,["name","color"])]),_:1}),t(c,null,{default:l(()=>[t(r,null,{default:l(()=>[n("Bluetooth Mesh")]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(E(g).isActive?"Active":"Disabled"),1)]),_:1})]),_:1}),t(c,{side:""},{default:l(()=>[v.value&&!E(g).isActive?(u(),p(m,{key:0,outline:"",color:"primary",size:"sm",icon:"bluetooth_searching",label:"Connect Device",onClick:C,disable:!b.value},{default:l(()=>[b.value?f("",!0):(u(),p(q,{key:0},{default:l(()=>[n(" Web Bluetooth not supported in this browser. Try Chrome or Edge. ")]),_:1}))]),_:1},8,["disable"])):v.value&&E(g).isActive?(u(),p(m,{key:1,flat:"",color:"negative",size:"sm",icon:"bluetooth_disabled",label:"Disconnect",onClick:K[0]||(K[0]=ce=>y(!1))})):(u(),p(N,{key:2,"model-value":E(g).isActive,"onUpdate:modelValue":y,color:"primary"},null,8,["model-value"]))]),_:1})]),_:1}),z((u(),p(d,{clickable:"",onClick:V},{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(h,{name:"people"})]),_:1}),t(c,null,{default:l(()=>[t(r,null,{default:l(()=>[n("Nearby Peers")]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(E(g).nearbyPeers.length)+" discovered ",1)]),_:1})]),_:1}),t(c,{side:""},{default:l(()=>[t(h,{name:"chevron_right",color:"grey"})]),_:1})]),_:1})),[[Ne]]),E(w).mutualCount>0?(u(),p(d,{key:0},{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(h,{name:"favorite",color:"pink"})]),_:1}),t(c,null,{default:l(()=>[t(r,null,{default:l(()=>[n("Mutual Favorites")]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(E(w).mutualCount)+" contacts ",1)]),_:1})]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1}),t(ye),v.value?f("",!0):(u(),p(L,{key:0},{default:l(()=>[wt,Ct,t(B,{dense:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(h,{name:E(g).alwaysOnActive?"battery_charging_full":"battery_std",color:E(g).alwaysOnActive?"positive":"grey"},null,8,["name","color"])]),_:1}),t(c,null,{default:l(()=>[t(r,null,{default:l(()=>[n("Always Keep Running")]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(E(g).alwaysOnActive?"Active - Bluetooth mesh stays on 24/7":"Inactive - Normal battery usage"),1)]),_:1})]),_:1}),t(c,{side:""},{default:l(()=>[t(N,{"model-value":E(g).alwaysOnEnabled,"onUpdate:modelValue":G,color:"primary",disable:!E(g).isActive},null,8,["model-value","disable"])]),_:1})]),_:1})]),_:1}),a("div",$t,[E(g).alwaysOnEnabled?(u(),p(m,{key:0,flat:"",dense:"",size:"sm",color:"primary",icon:"settings",label:"Battery Settings",onClick:R})):f("",!0)]),E(g).alwaysOnEnabled?(u(),p(be,{key:0,dense:"",class:"bg-warning text-dark q-mt-sm",rounded:""},{avatar:l(()=>[t(h,{name:"battery_alert"})]),action:l(()=>[t(m,{flat:"",dense:"",size:"sm",label:"Learn More",onClick:i})]),default:l(()=>[Nt,n(" Always-on mode uses more battery but ensures you can receive tokens anytime. ")]),_:1})):f("",!0)]),_:1})),t(ye),t(L,null,{default:l(()=>[a("div",qt,[t(m,{outline:"",color:"primary",icon:"people",label:"Nearby Contacts",onClick:P}),E(w).mutualCount>0?(u(),p(m,{key:0,outline:"",color:"pink",icon:"favorite",label:"Favorites",onClick:k},{default:l(()=>[E(w).pendingCount>0?(u(),p(H,{key:0,color:"red",floating:""},{default:l(()=>[n(s(E(w).pendingCount),1)]),_:1})):f("",!0)]),_:1})):f("",!0),E(w).pendingCount>0?(u(),p(m,{key:1,rounded:"",outline:"",color:"orange",icon:"inbox",label:"Requests",onClick:U},{default:l(()=>[t(H,{color:"red",floating:""},{default:l(()=>[n(s(E(w).pendingCount),1)]),_:1})]),_:1})):f("",!0)])]),_:1}),t(ye),t(L,{class:"q-pt-sm"},{default:l(()=>[a("div",Dt,[t(h,{name:"info",size:"xs",class:"q-mr-xs"}),v.value&&!b.value?(u(),D("span",Pt,[n(" \u26A0\uFE0F Web Bluetooth not available. Please use "),Vt,n(" or "),Et,n(" browser. ")])):v.value?(u(),D("span",At,' \u{1F4A1} Click "Enable" to connect to a nearby Bluetooth device. The browser will show a device picker. ')):(u(),D("span",It," Bluetooth mesh enables offline token transfers "))])]),_:1})]),_:1}))}});var Bt=ue(Tt,[["__scopeId","data-v-9b16b242"]]);const Ut=de({name:"NearbyContactsDialog",emits:["close"],mixins:[window.windowMixin],components:{ChooseMint:Ke},setup(e,{emit:o}){const S=Le(),g=Pe(),w=se(),v=fe(),b=ke(),y=Ge(),C=ge(),V=Y(new Set),P=Y(null),k=Y(""),U=Y(!1),G=re(()=>S.sortedPeers),R=re(()=>v.activeUnit),i=_=>{V.value.has(_.peerID)?V.value.delete(_.peerID):V.value.add(_.peerID),V.value=new Set(V.value)},$=async()=>{await S.startService()},K=async()=>{if(console.log("\u{1F7E2} [UI] sendToPeers called!",{amount:P.value,selectedPeers:V.value.size,sending:U.value}),!P.value||P.value<=0){console.log("\u{1F7E2} [UI] Validation failed: invalid amount",P.value),M("Please enter a valid amount");return}if(V.value.size===0){console.log("\u{1F7E2} [UI] Validation failed: no peers selected",V.value),M("Please select at least one peer");return}const _=Math.floor(P.value*v.activeUnitCurrencyMultiplyer);if(_>v.activeBalance){M(`Insufficient balance. Available: ${formatCurrency(v.activeBalance,v.activeUnit)}`);return}U.value=!0;try{const A=w.mintWallet(v.activeMintUrl,v.activeUnit),I=v.activeProofs||[];if(I.length===0){M("No tokens available. Please receive tokens first."),U.value=!1;return}const{sendProofs:J}=await w.send(I,A,_,!0,!1),ne=b.serializeProofs(J);let pe=0;for(const Ae of V.value){console.log("\u{1F7E2} [UI] About to call bluetoothStore.sendToken for peer:",Ae),console.log("\u{1F7E2} [UI] Token:",ne.substring(0,50)+"..."),console.log("\u{1F7E2} [UI] Amount:",_,R.value);const Ie=await S.sendToken({token:ne,amount:_,unit:R.value,mint:v.activeMintUrl,peerID:Ae,memo:k.value||void 0,senderNpub:C.pubkey||""});console.log("\u{1F7E2} [UI] sendToken returned:",Ie),Ie&&pe++}pe>0&&(y.addPendingToken({amount:_,token:ne,mint:v.activeMintUrl,unit:R.value,label:k.value?`\u{1F4E1} Bluetooth: ${k.value}`:"\u{1F4E1} Sent via Bluetooth"}),ie(`Sent ${P.value} ${R.value} to ${pe} peer${pe!==1?"s":""}`),P.value=null,k.value="",V.value.clear(),o("close"))}catch(A){console.error("Failed to send tokens:",A),M("Failed to send tokens")}finally{U.value=!1}},ce=async()=>{if(!P.value||P.value<=0){M("Please enter a valid amount");return}const _=Math.floor(P.value*v.activeUnitCurrencyMultiplyer);if(_>v.activeBalance){M(`Insufficient balance. Available: ${formatCurrency(v.activeBalance,v.activeUnit)}`);return}U.value=!0;try{const A=w.mintWallet(v.activeMintUrl,v.activeUnit),I=v.activeProofs||[];if(I.length===0){M("No tokens available. Please receive tokens first."),U.value=!1;return}const{sendProofs:J}=await w.send(I,A,_,!0,!1),ne=b.serializeProofs(J);await S.sendToken({token:ne,amount:_,unit:R.value,mint:v.activeMintUrl,memo:k.value||void 0,senderNpub:C.pubkey||""})&&(y.addPendingToken({amount:_,token:ne,mint:v.activeMintUrl,unit:R.value,label:k.value?`\u{1F4E1} Broadcast: ${k.value}`:"\u{1F4E1} Broadcast via Bluetooth"}),ie(`Broadcasting ${P.value} ${R.value} to all nearby devices`),P.value=null,k.value="",o("close"))}catch(A){console.error("Failed to broadcast tokens:",A),M("Failed to broadcast tokens")}finally{U.value=!1}},T=_=>{const A=Math.floor((Date.now()-_)/1e3);return A<60?"Just now":A<3600?`${Math.floor(A/60)}m ago`:A<86400?`${Math.floor(A/3600)}h ago`:`${Math.floor(A/86400)}d ago`},ve=_=>g.isFavorite(_);return{bluetoothStore:S,nearbyPeers:G,selectedPeers:V,amount:P,memo:k,sending:U,unit:R,isFavorite:ve,isMutualFavorite:_=>g.isMutualFavorite(_),toggleFavorite:async _=>{if(ve(_.peerID)){g.removeFavorite(_.peerID);try{C.seedSignerPublicKey||await C.walletSeedGenerateKeyPair();const I=C.seedSignerPublicKey||C.pubkey;if(I){const J=I.startsWith("npub")?I:Ue.npubEncode(I);await S.sendTextMessage(_.peerID,`[UNFAVORITED]:${J}`),console.log(`\u{1F4E4} Sent unfavorite notification to ${_.nickname} with npub: ${J.substring(0,16)}...`)}}catch(I){console.error("Failed to send unfavorite notification:",I)}ie(`Removed ${_.nickname} from favorites`)}else{g.addFavorite(_.peerID,_.nickname||"Unknown",_.nostrNpub||null);try{C.seedSignerPublicKey||await C.walletSeedGenerateKeyPair();const I=C.seedSignerPublicKey||C.pubkey;if(I){const J=I.startsWith("npub")?I:Ue.npubEncode(I);await S.sendTextMessage(_.peerID,`[FAVORITE_REQUEST]:${J}`),console.log(`\u{1F4E4} Sent favorite request to ${_.nickname} with npub: ${J.substring(0,16)}...`)}}catch(I){console.error("Failed to send favorite request:",I)}ie(`Sent favorite request to ${_.nickname}`)}},togglePeerSelection:i,enableBluetooth:$,sendToPeers:K,broadcastToAll:ce,formatLastSeen:T}}}),Qe=e=>(qe("data-v-5411d788"),e=e(),De(),e),Rt={class:"nearby-contacts"},Mt={class:"q-pa-md"},Ft=Qe(()=>a("h6",{class:"q-mt-none q-mb-md"},"Send to Nearby",-1)),Ot={class:"q-mb-md"},Wt={class:"q-mb-md"},Lt={key:1,class:"text-center q-py-xl"},Kt=Qe(()=>a("div",{class:"q-mt-md text-grey-7"},"Scanning for nearby devices...",-1)),zt={class:"row items-center q-gutter-xs"},Gt={key:3,class:"q-mt-md"};function Qt(e,o,S,g,w,v){const b=W("ChooseMint");return u(),D("div",Rt,[a("div",Mt,[Ft,e.bluetoothStore.isActive?f("",!0):(u(),p(be,{key:0,class:"bg-warning text-dark q-mb-md",rounded:""},{avatar:l(()=>[t(h,{name:"bluetooth_disabled"})]),action:l(()=>[t(m,{flat:"",label:"Enable",onClick:e.enableBluetooth},null,8,["onClick"])]),default:l(()=>[n(" Bluetooth is off. Turn it on to send to nearby devices. ")]),_:1})),a("div",Ot,[t(b)]),a("div",Wt,[t(H,{color:"primary",class:"text-weight-bold q-pa-sm"},{default:l(()=>[n(" Available: "+s(e.formatCurrency(e.mintsStore.activeBalance,e.mintsStore.activeUnit)),1)]),_:1})]),e.bluetoothStore.isActive&&e.nearbyPeers.length===0?(u(),D("div",Lt,[t(xe,{size:"3em",color:"primary"}),Kt])):f("",!0),e.nearbyPeers.length>0?(u(),p(B,{key:2,bordered:"",separator:"",class:"rounded-borders"},{default:l(()=>[(u(!0),D(j,null,te(e.nearbyPeers,y=>z((u(),p(d,{key:y.peerID,clickable:"",onClick:C=>e.togglePeerSelection(y),class:Oe({"bg-blue-1":e.selectedPeers.has(y.peerID)})},{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(We,{color:y.isDirect?"green":"orange","text-color":"white"},{default:l(()=>[t(h,{name:y.isDirect?"bluetooth_connected":"device_hub"},null,8,["name"])]),_:2},1032,["color"])]),_:2},1024),t(c,null,{default:l(()=>[t(r,null,{default:l(()=>[n(s(y.nickname||y.nostrNpub?.substring(0,16)||y.peerID.substring(0,8))+"... ",1),e.isMutualFavorite(y.peerID)?(u(),p(h,{key:0,name:"favorite",color:"pink",size:"xs",class:"q-ml-xs"},{default:l(()=>[t(q,null,{default:l(()=>[n("Mutual favorite")]),_:1})]),_:1})):f("",!0)]),_:2},1024),t(r,{caption:""},{default:l(()=>[n(s(y.isDirect?"Direct":"Via mesh")+" \u2022 "+s(e.formatLastSeen(y.lastSeen)),1)]),_:2},1024)]),_:2},1024),t(c,{side:""},{default:l(()=>[a("div",zt,[t(m,{flat:"",dense:"",round:"",size:"sm",icon:e.isFavorite(y.peerID)?"favorite":"favorite_border",color:e.isFavorite(y.peerID)?"pink":"grey",onClick:me(C=>e.toggleFavorite(y),["stop"])},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.isFavorite(y.peerID)?"Remove from favorites":"Add to favorites"),1)]),_:2},1024)]),_:2},1032,["icon","color","onClick"]),t(dt,{"model-value":e.selectedPeers.has(y.peerID),onClick:me(C=>e.togglePeerSelection(y),["stop"]),color:"primary"},null,8,["model-value","onClick"])])]),_:2},1024)]),_:2},1032,["onClick","class"])),[[Ne]])),128))]),_:1})):f("",!0),e.nearbyPeers.length>0?(u(),D("div",Gt,[t(F,{modelValue:e.amount,"onUpdate:modelValue":o[0]||(o[0]=y=>e.amount=y),modelModifiers:{number:!0},type:"number",label:"Amount",outlined:"",dense:"",suffix:e.unit,class:"q-mb-md",placeholder:"Enter amount"},{prepend:l(()=>[t(h,{name:"payments"})]),_:1},8,["modelValue","suffix"]),t(F,{modelValue:e.memo,"onUpdate:modelValue":o[1]||(o[1]=y=>e.memo=y),label:"Memo (optional)",outlined:"",dense:"",class:"q-mb-md",placeholder:"What's this for?"},{prepend:l(()=>[t(h,{name:"note"})]),_:1},8,["modelValue"]),t(m,{unelevated:"",color:"primary",class:"full-width",disable:e.selectedPeers.size===0||!e.amount||e.amount<=0||e.sending,loading:e.sending,onClick:[e.sendToPeers,o[2]||(o[2]=me(y=>console.log("\u{1F7E2} [UI] Send button clicked!",{selectedPeers:e.selectedPeers.size,amount:e.amount,sending:e.sending}),["stop"]))]},{default:l(()=>[t(h,{name:"send",class:"q-mr-sm"}),n(" Send "+s(e.amount||"")+" "+s(e.unit)+" to "+s(e.selectedPeers.size)+" peer"+s(e.selectedPeers.size!==1?"s":""),1)]),_:1},8,["disable","loading","onClick"]),t(m,{flat:"",color:"primary",class:"full-width q-mt-sm",disable:!e.amount||e.amount<=0||e.sending,loading:e.sending,onClick:e.broadcastToAll},{default:l(()=>[t(h,{name:"wifi_tethering",class:"q-mr-sm"}),n(" Broadcast to All Nearby ")]),_:1},8,["disable","loading","onClick"])])):f("",!0)])])}var Ht=ue(Ut,[["render",Qt],["__scopeId","data-v-5411d788"]]);const Yt=de({name:"NostrContactsDialog",setup(){const e=Pe(),o=ge(),S=se(),g=fe(),w=ke(),v=Ge(),b=Y(null),y=Y(!1),C=Y(null),V=Y(null),P=Y(""),k=Y(!1),U=re(()=>e.myFavorites),G=re(()=>g.activeUnit),R=T=>T?T.length>16?`${T.substring(0,16)}...`:T:"No Nostr key",i=T=>{C.value=T,V.value=null,P.value="",y.value=!0},$=()=>{y.value=!1,C.value=null,V.value=null,P.value=""};return{contacts:U,selectedContact:b,showSendDialog:y,sendTarget:C,sendAmount:V,sendMemo:P,sending:k,unit:G,formatNpub:R,openSendDialog:i,closeSendDialog:$,removeFavorite:T=>{e.removeFavorite(T.peerNoisePublicKey),ie(`Removed ${T.peerNickname} from favorites`)},sendViaNostr:async()=>{if(!C.value||!C.value.peerNostrNpub){M("Contact does not have Nostr key");return}if(!V.value||V.value<=0){M("Please enter a valid amount");return}if(!o.pubkey){M("Nostr not configured. Please set up your Nostr key first.");return}k.value=!0;try{const T=Math.floor(V.value*g.activeUnitCurrencyMultiplyer),ve=S.mintWallet(g.activeMintUrl,g.activeUnit),_e=g.activeProofs||[];if(_e.length===0){M("No tokens available. Please receive tokens first."),k.value=!1;return}const{sendProofs:Ee}=await S.send(_e,ve,T,!0,!1),_=w.serializeProofs(Ee);v.addPendingToken({amount:T,token:_,mint:g.activeMintUrl,unit:G.value,label:P.value?`\u{1F4E1} Nostr: ${P.value}`:`\u{1F4E1} Sent to ${C.value.peerNickname} via Nostr`}),console.log("\u{1F4BE} Token saved to transaction history (can be recovered via QR)");let A=_;P.value&&(A+=`
---
Memo: ${P.value}
Amount: ${V.value} ${G.value}
From: ${o.pubkey.substring(0,16)}...`),console.log(`\u{1F4E4} Sending to npub: ${C.value.peerNostrNpub.substring(0,20)}...`),console.log(`\u{1F4E4} Message length: ${A.length} chars`),await o.sendNip04DirectMessage(C.value.peerNostrNpub,A),ie(`Sent ${V.value} ${G.value} to ${C.value.peerNickname} via Nostr!`),$()}catch(T){console.error("Failed to send via Nostr:",T),M(`Failed to send: ${T}`)}finally{k.value=!1}}}}}),Ve=e=>(qe("data-v-756a44b6"),e=e(),De(),e),Jt={class:"nostr-contacts"},Zt={class:"q-pa-md"},jt=Ve(()=>a("h6",{class:"q-mt-none q-mb-md"},"Nostr Contacts",-1)),Xt={key:0,class:"text-center q-py-xl"},xt=Ve(()=>a("div",{class:"q-mt-md text-grey-7"},"No saved contacts yet",-1)),el=Ve(()=>a("div",{class:"text-caption text-grey-6 q-mt-sm"}," Add favorites from nearby peers to send via Nostr ",-1)),tl={key:0},ll={key:1,class:"text-warning"},ol={class:"row items-center q-gutter-xs"},nl={class:"text-h6"};function al(e,o,S,g,w,v){return u(),D("div",Jt,[a("div",Zt,[jt,e.contacts.length===0?(u(),D("div",Xt,[t(h,{name:"person_off",size:"4em",color:"grey-5"}),xt,el])):f("",!0),e.contacts.length>0?(u(),p(B,{key:1,bordered:"",separator:"",class:"rounded-borders"},{default:l(()=>[(u(!0),D(j,null,te(e.contacts,b=>z((u(),p(d,{key:b.peerNoisePublicKey,clickable:"",onClick:y=>e.selectedContact=b,class:Oe({"bg-blue-1":e.selectedContact?.peerNoisePublicKey===b.peerNoisePublicKey})},{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(We,{color:"primary","text-color":"white"},{default:l(()=>[t(h,{name:b.theyFavoritedUs?"favorite":"person"},null,8,["name"])]),_:2},1024)]),_:2},1024),t(c,null,{default:l(()=>[t(r,null,{default:l(()=>[n(s(b.peerNickname)+" ",1),b.theyFavoritedUs?(u(),p(h,{key:0,name:"favorite",color:"pink",size:"xs",class:"q-ml-xs"},{default:l(()=>[t(q,null,{default:l(()=>[n("Mutual favorite")]),_:1})]),_:1})):f("",!0)]),_:2},1024),t(r,{caption:""},{default:l(()=>[b.peerNostrNpub?(u(),D("span",tl,s(e.formatNpub(b.peerNostrNpub)),1)):(u(),D("span",ll,[t(h,{name:"warning",size:"xs"}),n(" No Nostr key - Bluetooth only ")]))]),_:2},1024)]),_:2},1024),t(c,{side:""},{default:l(()=>[a("div",ol,[t(m,{flat:"",dense:"",round:"",size:"sm",icon:"delete",color:"grey",onClick:me(y=>e.removeFavorite(b),["stop"])},{default:l(()=>[t(q,null,{default:l(()=>[n("Remove from favorites")]),_:1})]),_:2},1032,["onClick"]),t(m,{flat:"",dense:"",round:"",icon:"send",color:b.peerNostrNpub?"primary":"grey",disable:!b.peerNostrNpub,onClick:me(y=>e.openSendDialog(b),["stop"])},{default:l(()=>[t(q,null,{default:l(()=>[n(s(b.peerNostrNpub?"Send ecash via Nostr":"Nostr key required for remote send"),1)]),_:2},1024)]),_:2},1032,["color","disable","onClick"])])]),_:2},1024)]),_:2},1032,["onClick","class"])),[[Ne]])),128))]),_:1})):f("",!0),t(le,{modelValue:e.showSendDialog,"onUpdate:modelValue":o[2]||(o[2]=b=>e.showSendDialog=b),persistent:""},{default:l(()=>[t(X,{style:{"min-width":"400px"}},{default:l(()=>[t(L,{class:"row items-center"},{default:l(()=>[t(h,{name:"send",color:"primary",size:"md",class:"q-mr-sm"}),a("span",nl,"Send to "+s(e.sendTarget?.peerNickname),1)]),_:1}),t(L,null,{default:l(()=>[t(F,{modelValue:e.sendAmount,"onUpdate:modelValue":o[0]||(o[0]=b=>e.sendAmount=b),modelModifiers:{number:!0},type:"number",label:"Amount",outlined:"",dense:"",suffix:e.unit,class:"q-mb-md",autofocus:"",placeholder:"Enter amount"},{prepend:l(()=>[t(h,{name:"payments"})]),_:1},8,["modelValue","suffix"]),t(F,{modelValue:e.sendMemo,"onUpdate:modelValue":o[1]||(o[1]=b=>e.sendMemo=b),label:"Memo (optional)",outlined:"",dense:"",class:"q-mb-md",placeholder:"What's this for?"},{prepend:l(()=>[t(h,{name:"note"})]),_:1},8,["modelValue"]),t(be,{dense:"",class:"bg-info text-white q-mb-md",rounded:""},{avatar:l(()=>[t(h,{name:"info"})]),default:l(()=>[n(" Sending via Nostr - no Bluetooth connection needed ")]),_:1})]),_:1}),t(ae,{align:"right",class:"q-pa-md"},{default:l(()=>[t(m,{flat:"",round:"",icon:"close",color:"grey",onClick:e.closeSendDialog},{default:l(()=>[t(q,null,{default:l(()=>[n("Close")]),_:1})]),_:1},8,["onClick"]),t(m,{color:"primary",label:"Send",onClick:e.sendViaNostr,loading:e.sending,disable:!e.sendAmount||e.sendAmount<=0},null,8,["onClick","loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])}var sl=ue(Yt,[["render",al],["__scopeId","data-v-756a44b6"]]);const x=ot("GoogleDrive"),il=Ye("googleDriveBackup",{state:()=>({isAuthenticated:Fe("cashu.googleDrive.isAuthenticated",!1),lastBackupTimestamp:Fe("cashu.googleDrive.lastBackupTimestamp",0),backupInProgress:!1,restoreInProgress:!1}),getters:{isBackupAvailable:e=>e.isAuthenticated&&!e.backupInProgress,lastBackupDate:e=>e.lastBackupTimestamp>0?new Date(e.lastBackupTimestamp):null,isPluginAvailable:()=>!!x},actions:{async connect(){if(!this.isPluginAvailable)throw new Error("Google Drive backup is only available on mobile devices (Android/iOS)");try{await x.connect(),this.isAuthenticated=!0}catch(e){throw this.isAuthenticated=!1,e}},async disconnect(){try{await x.disconnect()}catch(e){console.warn("Google Drive disconnect error:",e)}finally{this.isAuthenticated=!1}},async storeBackup(e){if(!this.isPluginAvailable)throw new Error("Google Drive backup is only available on mobile devices (Android/iOS)");if(!this.isAuthenticated)throw new Error("Not authenticated with Google Drive");this.backupInProgress=!0;try{await x.store({content:e})}finally{this.backupInProgress=!1}},async fetchAllMetadata(){if(!this.isPluginAvailable)throw new Error("Google Drive backup is only available on mobile devices (Android/iOS)");if(!this.isAuthenticated)throw new Error("Not authenticated with Google Drive");return(await x.fetchAllMetadata()).files.map(o=>({id:o.id,name:o.name,createdTime:new Date(o.createdTime)}))},async fetchFileContent(e){if(!this.isPluginAvailable)throw new Error("Google Drive backup is only available on mobile devices (Android/iOS)");if(!this.isAuthenticated)throw new Error("Not authenticated with Google Drive");return(await x.fetchFileContent({fileId:e})).content},async fetchLatestBackup(){const e=await this.fetchAllMetadata();if(e.length===0)throw new Error("No backups found");const o=e.reduce((g,w)=>w.createdTime>g.createdTime?w:g);return{content:await this.fetchFileContent(o.id),fileName:o.name}},async trashBackup(e){if(!this.isPluginAvailable)throw new Error("Google Drive backup is only available on mobile devices (Android/iOS)");if(!this.isAuthenticated)throw new Error("Not authenticated with Google Drive");await x.trash({path:e})},async backupSeedPhrase(e){const o={mnemonic:e,createdAt:Date.now(),version:"1.0"},S=JSON.stringify(o);await this.storeBackup(S),this.lastBackupTimestamp=Date.now()},async restoreSeedPhrase(){this.restoreInProgress=!0;try{const{content:e}=await this.fetchLatestBackup(),o=JSON.parse(e);if(!o.mnemonic||!Array.isArray(o.mnemonic))throw new Error("Invalid backup format");return o.mnemonic}finally{this.restoreInProgress=!1}},async checkBackupExists(){try{return(await this.fetchAllMetadata()).length>0}catch{return!1}},async getBackupInfo(){try{const e=await this.fetchAllMetadata();return e.length===0?null:{timestamp:e.reduce((S,g)=>g.createdTime>S.createdTime?g:S).createdTime.getTime(),version:"1.0"}}catch{return null}}}});const rl=de({name:"SettingsView",mixins:[windowMixin],components:{P2PKDialog:je,NWCDialog:bt,ChooseMint:Ke,BluetoothSettings:Bt,NearbyContactsDialog:Ht,NostrContactsDialog:sl,FavoriteRequestsDialog:Xe,VueQrcode:ze},props:{},data:function(){return{showNearbyDialog:!1,showContactsDialog:!1,showRequestsDialog:!1,themes:["monochrome","classic","bitcoin","mint","autumn","salvador","freedom","cyber","flamingo"],selectedLanguage:navigator.language||"en-US",languageOptions:[{label:"English",value:"en-US"},{label:"Espa\xF1ol",value:"es-ES"},{label:"Italiano",value:"it-IT"},{label:"Deutsch",value:"de-DE"},{label:"Fran\xE7ais",value:"fr-FR"},{label:"Svenska",value:"sv-SE"},{label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",value:"el-GR"},{label:"T\xFCrk\xE7e",value:"tr-TR"},{label:"\u0E44\u0E17\u0E22",value:"th-TH"},{label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",value:"ar-SA"},{label:"\u4E2D\u6587",value:"zh-CN"},{label:"\u65E5\u672C\u8A9E",value:"ja-JP"}],currencyOptions:[{label:"US Dollar (USD)",value:"USD"},{label:"Euro (EUR)",value:"EUR"},{label:"Australian Dollar (AUD)",value:"AUD"},{label:"Brazilian Real (BRL)",value:"BRL"},{label:"Canadian Dollar (CAD)",value:"CAD"},{label:"Swiss Franc (CHF)",value:"CHF"},{label:"Chinese Yuan (CNY)",value:"CNY"},{label:"Czech Koruna (CZK)",value:"CZK"},{label:"Danish Krone (DKK)",value:"DKK"},{label:"British Pound (GBP)",value:"GBP"},{label:"Hong Kong Dollar (HKD)",value:"HKD"},{label:"Hungarian Forint (HUF)",value:"HUF"},{label:"Israeli Shekel (ILS)",value:"ILS"},{label:"Indian Rupee (INR)",value:"INR"},{label:"Japanese Yen (JPY)",value:"JPY"},{label:"South Korean Won (KRW)",value:"KRW"},{label:"Mexican Peso (MXN)",value:"MXN"},{label:"New Zealand Dollar (NZD)",value:"NZD"},{label:"Norwegian Krone (NOK)",value:"NOK"},{label:"Polish Zloty (PLN)",value:"PLN"},{label:"Russian Ruble (RUB)",value:"RUB"},{label:"Swedish Krona (SEK)",value:"SEK"},{label:"Singapore Dollar (SGD)",value:"SGD"},{label:"Thai Baht (THB)",value:"THB"},{label:"Turkish Lira (TRY)",value:"TRY"},{label:"South African Rand (ZAR)",value:"ZAR"}],discoveringMints:!1,hideMnemonic:!0,confirmMnemonic:!1,confirmNuke:!1,showTermsDialog:!1,showLightningQR:!1,nip46Token:"",nip07SignerAvailable:!1,newRelay:""}},computed:{...Q(at,["getBitcoinPrice","bitcoinPriceCurrency","walletDisplayUnit","checkSentTokens","useWebsockets","nfcEncoding","useNumericKeyboard","periodicallyCheckIncomingInvoices","checkIncomingInvoices","checkInvoicesOnStartup","enableReceiveSwaps","showNfcButtonInDrawer","autoPasteEcashReceive","auditorEnabled","auditorUrl","auditorApiUrl","bip177BitcoinSymbol","showBitcoin","showPoints","multinutEnabled","nostrMintBackupEnabled","googleDriveBackupEnabled"]),googleDriveStore:()=>il(),...ee(Ce,["p2pkKeys"]),...Q(Ce,["showP2PKDialog","showP2PkButtonInDrawer"]),...Q(he,["nwcEnabled","connections","showNWCDialog","showNWCData"]),...Q(ge,["relays"]),...ee(fe,["activeMintUrl","mints","activeProofs"]),...ee($e,["npcLoading"]),...ee(ge,["pubkey","mintRecommendations","signerType","seedSignerPrivateKeyNsec"]),...ee(se,["mnemonic"]),...ee(Re,["ndefSupported"]),...Q(Te,["npcV2Loading","npcV2Enabled","npcV2Address","npcV2Mint","npcV2ClaimAutomatically"]),...Q($e,["npcAddress","npcEnabled","npcDomain","automaticClaim"]),...Q(se,["keysetCounters"]),...Q(fe,["addMintData","showAddMintDialog","showRemoveMintDialog"]),...Q(st,["enablePaymentRequest","receivePaymentRequestsAutomatically"]),keysetCountersByMint(){const e=this.mints,o={};for(let S of e){const g=S.keysets.map(v=>v.id),w=this.keysetCounters.filter(v=>g.includes(v.id));o[S.url]=w}return o},hiddenMnemonic(){return this.hideMnemonic?this.mnemonic.split(" ").map(e=>"*".repeat(6)).join(" "):this.mnemonic},enableNwc:{get(){return this.nwcEnabled},set(e){this.nwcEnabled=e}}},watch:{enableNwc:function(){this.enableNwc?this.listenToNWCCommands():this.unsubscribeNWC()},npcEnabled:async function(){this.npcEnabled?(await this.initSigner(),await this.generateNPCConnection()):this.npcAddress=""},npcV2Enabled:async function(){this.npcV2Enabled?(await this.initSigner(),await this.generateNPCV2Connection()):this.npcV2Address=""},npcV2Mint:async function(e,o){this.npcV2Enabled&&e&&e!==o&&await this.changeMintUrl(e)}},methods:{...O(ge,["init","initNip07Signer","initNip46Signer","initPrivateKeySigner","initWalletSeedPrivateKeySigner","checkNip07Signer","resetPrivateKeySigner","resetNip46Signer","initSigner"]),...O(he,["generateNWCConnection","listenToNWCCommands","unsubscribeNWC","getConnectionString"]),...O(Ce,["importNsec","generateKeypair","showKeyDetails"]),...O(fe,["addMint","removeMint","activateMintUrl","updateMint"]),...O(se,["newMnemonic","decodeRequest","checkProofsSpendable","increaseKeysetCounter"]),...O(ke,["serializeProofs"]),...O($e,["generateNPCConnection"]),...O(Te,["generateNPCV2Connection","changeMintUrl"]),...O(ut,["restoreMint"]),...O(it,["deleteAllTables"]),...O(rt,["restoreFromBackup","exportWalletState"]),...O(Me,["fetchBitcoinPrice","updateBitcoinPriceForCurrentCurrency"]),generateNewMnemonic:async function(){this.newMnemonic(),await this.initSigner(),await this.generateNPCConnection()},updateNPCConnection:async function(){this.npcEnabled&&await this.generateNPCConnection()},shortUrl:function(e){return Je(e)},toggleMnemonicVisibility:function(){this.hideMnemonic=!this.hideMnemonic},toggleTerminal:function(){Re().toggleDebugConsole()},unsetAllReservedProofs:async function(){const e=ke();await e.setReserved(await e.getProofs(),!1),this.notifySuccess("All reserved proofs unset")},checkActiveProofsSpendable:async function(){let e=se().mintWallet(this.activeMintUrl,this.activeUnit),o=this.activeProofs.flat();console.log("Checking proofs",o);let S=[],g=50;for(let v=0;v<o.length;v+=g){console.log("Checking proofs",v,v+g);let b=o.slice(v,v+g),y=await this.checkProofsSpendable(b,e,!0);S.push(y)}let w=S.flat();w.length>0?(console.log("Spent proofs",w),this.notifySuccess("Removed "+w.length+" spent proofs")):this.notifySuccess("No spent proofs found")},showP2PKKeyEntry:async function(e){this.showKeyDetails(e),this.showP2PKDialog=!0},showNWCEntry:async function(e){this.showNWCData={connection:e,connectionString:this.getConnectionString(e)},this.showNWCDialog=!0},exportActiveProofs:async function(){const e=await this.serializeProofs(this.activeProofs);this.copyText(e)},handleSeedClick:async function(){await this.initWalletSeedPrivateKeySigner(),await this.generateNPCConnection(),await this.generateNPCV2Connection()},handleExtensionClick:async function(){await this.initNip07Signer(),await this.generateNPCConnection(),await this.generateNPCV2Connection()},handleBunkerClick:async function(){await this.initNip46Signer(),await this.generateNPCConnection(),await this.generateNPCV2Connection()},handleNsecClick:async function(){await this.initPrivateKeySigner(),await this.generateNPCConnection(),await this.generateNPCV2Connection()},handleResetPrivateKeySigner:async function(){await this.resetPrivateKeySigner(),await this.generateNPCConnection(),await this.generateNPCV2Connection()},handleResetNip46Signer:async function(){await this.resetNip46Signer(),await this.generateNPCConnection(),await this.generateNPCV2Connection()},showOnboarding:function(){tt().resetWelcome(),this.$router.push("/welcome")},nukeWallet:async function(){await this.exportWalletState(),this.deleteAllTables(),localStorage.clear(),window.location.href="/"},addRelay:function(){this.newRelay&&(this.newRelay=this.newRelay.trim(),this.relays.includes(this.newRelay)?this.notifyWarning("Relay already added"):(this.relays.push(this.newRelay),this.newRelay=""))},removeRelay:function(e){this.relays=this.relays.filter(o=>o!==e)},onNostrMintBackupToggle:async function(e){const o=nt();if(e)try{await o.enableBackup(),this.notifySuccess(this.$t("Settings.experimental.nostr_mint_backup.notifications.enabled"))}catch(S){console.error("Failed to enable Nostr mint backup:",S),this.notifyError(this.$t("Settings.experimental.nostr_mint_backup.notifications.failed")),this.nostrMintBackupEnabled=!1}else o.disableBackup(),this.notifySuccess(this.$t("Settings.experimental.nostr_mint_backup.notifications.disabled"))},changeLanguage(e){this.$i18n.locale=e,localStorage.setItem("cashu.language",e)},onCurrencyChange:async function(e){const o=Me();Date.now()-o.bitcoinPriceLastUpdated>o.bitcoinPriceMinRefreshInterval?await this.fetchBitcoinPrice():this.updateBitcoinPriceForCurrentCurrency()},authenticateGoogleDrive:async function(){if(!this.googleDriveStore.isPluginAvailable){this.$q.notify({type:"info",message:"Google Drive backup is only available on mobile devices (Android/iOS apps)"});return}try{await this.googleDriveStore.connect(),this.$q.notify({type:"positive",message:"Successfully connected to Google Drive"})}catch(e){console.error("Google Drive authentication failed:",e),this.$q.notify({type:"negative",message:"Failed to connect to Google Drive: "+e.message})}},backupSeedPhraseToDrive:async function(){if(!this.googleDriveStore.isPluginAvailable){this.$q.notify({type:"info",message:"Google Drive backup is only available on mobile devices (Android/iOS apps)"});return}try{const e=["abandon","abandon","abandon","abandon","abandon","abandon","abandon","abandon","abandon","abandon","abandon","about"];await this.googleDriveStore.backupSeedPhrase(e),this.$q.notify({type:"positive",message:"Seed phrase backed up to Google Drive successfully"})}catch(e){console.error("Google Drive backup failed:",e),this.$q.notify({type:"negative",message:"Failed to backup to Google Drive: "+e.message})}},restoreSeedPhraseFromDrive:async function(){if(!this.googleDriveStore.isPluginAvailable){this.$q.notify({type:"info",message:"Google Drive backup is only available on mobile devices (Android/iOS apps)"});return}try{const e=await this.googleDriveStore.restoreSeedPhrase();console.log("Restored mnemonic:",e),this.$q.notify({type:"positive",message:"Seed phrase restored from Google Drive successfully"})}catch(e){console.error("Google Drive restore failed:",e),this.$q.notify({type:"negative",message:"Failed to restore from Google Drive: "+e.message})}},onGoogleDriveBackupToggle:function(e){this.$q.notify({type:"positive",message:e?"Google Drive backup enabled":"Google Drive backup disabled"})},handleBitcoinToggle:function(e){!e&&!this.showPoints&&(this.showBitcoin=!0,this.$q.notify({type:"warning",message:"At least one balance type must be enabled"}))},handlePointsToggle:function(e){!e&&!this.showBitcoin&&(this.showPoints=!0,this.$q.notify({type:"warning",message:"At least one balance type must be enabled"}))}},created:async function(){this.nip07SignerAvailable=await this.checkNip07Signer(),console.log("Nip07 signer available",this.nip07SignerAvailable),this.selectedLanguage=this.languageOptions.find(e=>e.value===this.$i18n.locale)?.label||"Language"}}),dl={style:{"max-width":"800px",margin:"0 auto"}},ul={class:"section-divider q-my-md"},cl=a("div",{class:"divider-line"},null,-1),pl={class:"divider-text"},ml=a("div",{class:"divider-line"},null,-1),fl={class:"q-py-sm q-px-xs text-left","on-left":""},gl={class:"row q-pt-md"},vl={class:"col-12"},yl={class:"q-py-sm q-px-xs text-left","on-left":""},hl=a("div",{class:"section-divider q-my-md"},[a("div",{class:"divider-line"}),a("div",{class:"divider-text"},"Google Drive Backup"),a("div",{class:"divider-line"})],-1),bl={class:"q-py-sm q-px-xs text-left","on-left":""},kl=a("div",{class:"section-divider q-my-md"},[a("div",{class:"divider-line"}),a("div",{class:"divider-text"},"Bluetooth Mesh"),a("div",{class:"divider-line"})],-1),_l={class:"q-py-sm q-px-xs text-left"},Sl={class:"section-divider q-my-md"},wl=a("div",{class:"divider-line"},null,-1),Cl={class:"divider-text"},$l=a("div",{class:"divider-line"},null,-1),Nl={class:"q-py-sm q-px-xs text-left","on-left":""},ql={class:"section-divider q-my-md"},Dl=a("div",{class:"divider-line"},null,-1),Pl={class:"divider-text"},Vl=a("div",{class:"divider-line"},null,-1),El={class:"q-py-sm q-px-xs text-left","on-left":""},Al={class:"row q-pt-md"},Il={class:"row"},Tl={class:"col-12 q-mb-sm"},Bl={class:"col-12"},Ul={class:"row q-pt-md"},Rl={class:"section-divider q-my-md"},Ml=a("div",{class:"divider-line"},null,-1),Fl={class:"divider-text"},Ol=a("div",{class:"divider-line"},null,-1),Wl={class:"section-divider q-my-md"},Ll=a("div",{class:"divider-line"},null,-1),Kl={class:"divider-text"},zl=a("div",{class:"divider-line"},null,-1),Gl={class:"q-py-sm q-px-xs text-left","on-left":""},Ql={key:0,class:"q-pb-sm q-px-xs text-left","on-left":""},Hl={class:"section-divider q-my-md"},Yl=a("div",{class:"divider-line"},null,-1),Jl={class:"divider-text"},Zl=a("div",{class:"divider-line"},null,-1),jl={class:"q-py-sm q-px-xs text-left","on-left":""},Xl={key:1},xl={key:1,class:"section-divider q-my-md"},eo=a("div",{class:"divider-line"},null,-1),to={class:"divider-text"},lo=a("div",{class:"divider-line"},null,-1),oo={class:"q-py-sm q-px-xs text-left","on-left":""},no={key:0,class:"q-px-xs text-left","on-left":""},ao={class:"section-divider q-my-md"},so=a("div",{class:"divider-line"},null,-1),io={class:"divider-text"},ro=a("div",{class:"divider-line"},null,-1),uo={class:"q-py-sm q-px-xs text-left","on-left":""},co={class:"section-divider q-my-md"},po=a("div",{class:"divider-line"},null,-1),mo={class:"divider-text"},fo=a("div",{class:"divider-line"},null,-1),go={class:"section-divider q-my-md"},vo=a("div",{class:"divider-line"},null,-1),yo={class:"divider-text"},ho=a("div",{class:"divider-line"},null,-1),bo={key:1},ko={class:"row q-mx-md"},_o={class:"col-12"},So={class:"row q-mx-md q-mt-md"},wo={class:"col-12"},Co={class:"row q-mx-md q-mt-md"},$o={class:"col-12"},No={class:"row q-pt-md"},qo={key:2},Do={class:"row q-mx-md q-mt-md"},Po={class:"col-12"},Vo={class:"row q-mx-md"},Eo={class:"col-12 q-pt-md"},Ao={class:"q-pt-sm"},Io={class:"row q-pt-md"},To={class:"row q-mx-md q-mt-md"},Bo={class:"col-12"},Uo={class:"row q-pt-md"},Ro={class:"row q-mx-md q-mt-md"},Mo={class:"col-12"},Fo={class:"row q-pt-md"},Oo={class:"section-divider q-my-md"},Wo=a("div",{class:"divider-line"},null,-1),Lo={class:"divider-text"},Ko=a("div",{class:"divider-line"},null,-1),zo={class:"q-py-sm q-px-xs text-left","on-left":""},Go={class:"q-py-sm q-px-xs text-left","on-left":""},Qo={class:"q-py-sm q-px-xs text-left","on-left":""},Ho={class:"q-py-mb q-px-xs text-left","on-left":""},Yo={class:"row q-pt-md"},Jo={class:"section-divider q-my-md"},Zo=a("div",{class:"divider-line"},null,-1),jo={class:"divider-text"},Xo=a("div",{class:"divider-line"},null,-1),xo={class:"q-py-sm q-px-xs text-left","on-left":""},en={class:"row q-pt-md"},tn={key:0,class:"col-12"},ln={key:1,class:"col-12"},on={class:"text-h6"},nn=a("div",{style:{"max-height":"70vh","overflow-y":"auto"}},[a("div",{class:"text-left"},[a("p",null,[a("strong",null,"Last Updated: 20.12.2024")]),a("p",null,[a("strong",null," IMPORTANT NOTICE: THESE TERMS OF SERVICE INCLUDE A MEDIATION-FIRST CLAUSE REQUIRING MEDIATION BEFORE ARBITRATION OR LITIGATION. PLEASE READ THESE TERMS CAREFULLY. IF YOU DO NOT AGREE, DO NOT USE BITPOINTS. ")]),a("p",null,[a("strong",null," ALL REFERENCES TO LAW, REGULATION, AND JURISDICTION IN THESE TERMS ARE SUBJECT TO CHANGE WITHOUT NOTICE. PLEASE REVIEW THESE TERMS REGULARLY. ")]),a("p",null,' These Terms of Service (these "Terms") constitute the entire agreement and understanding between you ("you" or "your") and Bitpoints ("Bitpoints," "we," "us," or "our") regarding your use of the Bitpoints app and any related applications, software, code, or services (collectively, the "App" or "Services"). By accessing or using the App or Services, you acknowledge that you have read, understand, and agree to be bound by these Terms. If you do not agree, do not access or use the App or Services. '),a("p",null,[a("strong",null,"1. Nature of the Services")]),a("p",null,[n(" 1.1 "),a("strong",null,"Non-Custodial Web Application:"),n(' Bitpoints provides a non-custodial web application ("wallet app") that is executed entirely on your device. Our App merely makes available client-side code implementing the open-source ecash protocol. We do not run a server that holds your rewards or executes transactions on your behalf. ')]),a("p",null,[n(" 1.2 "),a("strong",null,"No Control Over Mints:"),n(" Bitpoints does not issue ecash and does not operate or control any Mint. The choice of any Mint and any transaction or relationship you establish with that Mint is solely between you and that Mint. Bitpoints has no involvement, responsibility, or liability in any such interaction. ")]),a("p",null,[n(" 1.3 "),a("strong",null,"No Funds Access:"),n(" At no time does Bitpoints have custody, possession, or control of your rewards. Transactions occur solely by your actions and through your chosen Mint. We do not monitor, verify, or facilitate transfers between you and any Mint or other parties. ")]),a("p",null,[n(" 1.4 "),a("strong",null,"Web Server Only:"),n(" Bitpoints does not operate any backend services for the ecash protocol. We only provide the client-side application code. ")]),a("p",null,[a("strong",null,"2. Use of the Services")]),a("p",null,[n(" 2.1 "),a("strong",null,"Eligibility:"),n(" You must be at least 18 years old to use the Services. By using the Services, you represent and warrant that you meet this age requirement. ")]),a("p",null,[n(" 2.2 "),a("strong",null,"Prohibited Uses:"),n(" You agree not to use the Services for any unlawful purpose or in any way that could damage, disable, overburden, or impair the Services. ")]),a("p",null,[a("strong",null,"3. Disclaimer of Warranties")]),a("p",null,' THE SERVICES ARE PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT ANY WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT. '),a("p",null,[a("strong",null,"4. Limitation of Liability")]),a("p",null," IN NO EVENT SHALL BITPOINTS BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING WITHOUT LIMITATION, LOSS OF PROFITS, DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES, RESULTING FROM YOUR USE OF THE SERVICES. "),a("p",null,[a("strong",null,"5. Contact Information")]),a("p",null," If you have any questions about these Terms, please contact us at info@bitpoints.me ")])],-1),an=a("div",{class:"text-h6"},"Lightning Address QR Code",-1),sn={class:"text-center"},rn=a("div",{class:"text-subtitle2 q-mb-md"}," Scan to send to your Lightning address ",-1),dn={class:"q-mb-md"},un={class:"text-caption text-grey-6"};function cn(e,o,S,g,w,v){const b=W("BluetoothSettings"),y=W("NearbyContactsDialog"),C=W("NostrContactsDialog"),V=W("FavoriteRequestsDialog"),P=W("ChooseMint"),k=W("row"),U=W("P2PKDialog"),G=W("NWCDialog"),R=W("vue-qrcode");return u(),D(j,null,[a("div",dl,[a("div",ul,[cl,a("div",pl,s(e.$t("Settings.sections.backup_restore")),1),ml]),a("div",fl,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.backup_restore.backup_seed.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.backup_restore.backup_seed.description")),1)]),_:1}),a("div",gl,[a("div",vl,[t(F,{outlined:"",readonly:"",modelValue:e.hiddenMnemonic,"onUpdate:modelValue":o[1]||(o[1]=i=>e.hiddenMnemonic=i),label:e.$t("Settings.backup_restore.backup_seed.seed_phrase_label"),class:"seed-phrase",autogrow:""},{append:l(()=>[t(m,{flat:"",dense:"",icon:"visibility",color:"primary",class:"cursor-pointer q-mt-md",onClick:e.toggleMnemonicVisibility},null,8,["onClick"]),t(m,{flat:"",dense:"",icon:"content_copy",color:"primary",class:"cursor-pointer q-mt-md",onClick:o[0]||(o[0]=i=>e.copyText(e.mnemonic))})]),_:1},8,["modelValue","label"])])])]),_:1})]),_:1})]),_:1})]),a("div",yl,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.backup_restore.restore_ecash.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.backup_restore.restore_ecash.description")),1)]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(m,{class:"q-ml-sm q-px-md",color:"primary",size:"sm",rounded:"",outline:"",to:"/restore"},{default:l(()=>[n(s(e.$t("Settings.backup_restore.restore_ecash.button")),1)]),_:1})]),_:1})]),_:1})]),hl,a("div",bl,[t(B,{padding:""},{default:l(()=>[e.googleDriveStore.isPluginAvailable?e.googleDriveStore.isAuthenticated?(u(),p(d,{key:2},{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n("Google Drive Backup")]),_:1}),t(r,{caption:""},{default:l(()=>[n(" Backup enabled - Last backup: "+s(e.googleDriveStore.lastBackupDate?e.googleDriveStore.lastBackupDate.toLocaleDateString():"Never"),1)]),_:1})]),_:1}),t(c,{side:""},{default:l(()=>[t(N,{modelValue:e.googleDriveBackupEnabled,"onUpdate:modelValue":[o[2]||(o[2]=i=>e.googleDriveBackupEnabled=i),e.onGoogleDriveBackupToggle]},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})):(u(),p(d,{key:1},{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n("Google Drive")]),_:1}),t(r,{caption:""},{default:l(()=>[n("Backup your seed phrase securely to Google Drive")]),_:1})]),_:1}),t(c,{side:""},{default:l(()=>[t(m,{outline:"",color:"primary",onClick:e.authenticateGoogleDrive},{default:l(()=>[n(" Sign in with Google ")]),_:1},8,["onClick"])]),_:1})]),_:1})):(u(),p(d,{key:0},{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n("Google Drive Backup")]),_:1}),t(r,{caption:""},{default:l(()=>[n("Google Drive backup is only available on mobile devices (Android/iOS apps)")]),_:1})]),_:1})]),_:1})),e.googleDriveStore.isAuthenticated?(u(),p(d,{key:3},{default:l(()=>[t(c,null,{default:l(()=>[t(m,{outline:"",color:"primary",onClick:e.backupSeedPhraseToDrive,loading:e.googleDriveStore.backupInProgress},{default:l(()=>[n(" Backup Seed Phrase Now ")]),_:1},8,["onClick","loading"])]),_:1})]),_:1})):f("",!0),e.googleDriveStore.isAuthenticated?(u(),p(d,{key:4},{default:l(()=>[t(c,null,{default:l(()=>[t(m,{outline:"",color:"warning",onClick:e.restoreSeedPhraseFromDrive,loading:e.googleDriveStore.restoreInProgress},{default:l(()=>[n(" Restore from Google Drive ")]),_:1},8,["onClick","loading"])]),_:1})]),_:1})):f("",!0)]),_:1})]),kl,a("div",_l,[t(b,{onOpenNearbyDialog:o[3]||(o[3]=i=>e.showNearbyDialog=!0),onOpenContactsDialog:o[4]||(o[4]=i=>e.showContactsDialog=!0),onOpenRequestsDialog:o[5]||(o[5]=i=>e.showRequestsDialog=!0)})]),t(le,{modelValue:e.showNearbyDialog,"onUpdate:modelValue":o[7]||(o[7]=i=>e.showNearbyDialog=i),position:"bottom"},{default:l(()=>[t(X,{style:{width:"100%","max-width":"600px"}},{default:l(()=>[t(y,{onClose:o[6]||(o[6]=i=>e.showNearbyDialog=!1)}),t(ae,{align:"right"},{default:l(()=>[z((u(),p(m,{flat:"",round:"",icon:"close",color:"grey"},{default:l(()=>[t(q,null,{default:l(()=>[n("Close")]),_:1})]),_:1})),[[Z]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:e.showContactsDialog,"onUpdate:modelValue":o[8]||(o[8]=i=>e.showContactsDialog=i),position:"bottom"},{default:l(()=>[t(X,{style:{width:"100%","max-width":"600px"}},{default:l(()=>[t(C),t(ae,{align:"right"},{default:l(()=>[z((u(),p(m,{flat:"",round:"",icon:"close",color:"grey"},{default:l(()=>[t(q,null,{default:l(()=>[n("Close")]),_:1})]),_:1})),[[Z]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:e.showRequestsDialog,"onUpdate:modelValue":o[9]||(o[9]=i=>e.showRequestsDialog=i),position:"bottom"},{default:l(()=>[t(X,{style:{width:"100%","max-width":"600px"}},{default:l(()=>[t(V),t(ae,{align:"right"},{default:l(()=>[z((u(),p(m,{flat:"",round:"",icon:"close",color:"grey"},{default:l(()=>[t(q,null,{default:l(()=>[n("Close")]),_:1})]),_:1})),[[Z]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a("div",Sl,[wl,a("div",Cl,s(e.$t("Settings.sections.terms_legal")),1),$l]),a("div",Nl,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.terms_legal.terms.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.terms_legal.terms.description")),1)]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(m,{class:"q-ml-sm q-px-md",color:"primary",size:"sm",rounded:"",outline:"",onClick:o[10]||(o[10]=i=>e.showTermsDialog=!0)},{default:l(()=>[n(s(e.$t("Settings.terms_legal.terms.button")),1)]),_:1})]),_:1})]),_:1})]),a("div",ql,[Dl,a("div",Pl,s(e.$t("Settings.sections.lightning_address")),1),Vl]),a("div",El,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.lightning_address.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.lightning_address.description")),1)]),_:1})]),_:1})]),_:1}),t(d,{class:"q-px-md"},{default:l(()=>[t(c,{class:"q-mx-none q-pl-none"},{default:l(()=>[a("div",Al,[t(N,{modelValue:e.npcEnabled,"onUpdate:modelValue":o[11]||(o[11]=i=>e.npcEnabled=i),color:"primary"},null,8,["modelValue"]),t(c,null,{default:l(()=>[t(r,{title:""},{default:l(()=>[n(s(e.$t("Settings.lightning_address.enable.toggle")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.lightning_address.enable.description")),1)]),_:1})]),_:1})])]),_:1})]),_:1}),e.npcEnabled?(u(),p(d,{key:0},{default:l(()=>[a("div",Il,[a("div",Tl,[t(r,{caption:"",class:"text-weight-medium"},{default:l(()=>[n("Domain:")]),_:1}),t(F,{outlined:"",modelValue:e.npcDomain,"onUpdate:modelValue":o[12]||(o[12]=i=>e.npcDomain=i),dense:"",rounded:"",placeholder:"bitpoints.me",onBlur:e.updateNPCConnection},{prepend:l(()=>[t(h,{name:"domain",color:"primary"})]),_:1},8,["modelValue","onBlur"])]),a("div",Bl,[t(F,{outlined:"",modelValue:e.npcAddress,"onUpdate:modelValue":o[15]||(o[15]=i=>e.npcAddress=i),dense:"",rounded:"",readonly:""},{append:l(()=>[e.npcLoading?(u(),p(et,{key:0,size:"sm"})):f("",!0),t(h,{name:"qr_code",onClick:o[13]||(o[13]=i=>e.showLightningQR=!0),size:"xs",color:"grey",class:"q-mr-sm cursor-pointer"},{default:l(()=>[t(q,null,{default:l(()=>[n("Show QR code for Lightning address")]),_:1})]),_:1}),t(h,{name:"content_copy",onClick:o[14]||(o[14]=i=>e.copyText(e.npcAddress)),size:"xs",color:"grey",class:"q-mr-sm cursor-pointer"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.lightning_address.address.copy_tooltip")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),a("div",Ul,[t(N,{modelValue:e.automaticClaim,"onUpdate:modelValue":o[16]||(o[16]=i=>e.automaticClaim=i),color:"primary"},null,8,["modelValue"]),t(c,null,{default:l(()=>[t(r,{title:""},{default:l(()=>[n(s(e.$t("Settings.lightning_address.automatic_claim.toggle")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.lightning_address.automatic_claim.description")),1)]),_:1})]),_:1})])])]),_:1})):f("",!0),a("div",Rl,[Ml,a("div",Fl,s(e.$t("Settings.sections.nostr.title")),1),Ol]),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:""},{default:l(()=>[n(s(e.$t("Settings.nostr_keys.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.nostr_keys.description")),1)]),_:1})]),_:1})]),_:1}),t(d,{active:e.signerType==="SEED","active-class":"text-weight-bold text-primary",clickable:""},{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(h,{color:e.signerType==="SEED"?"primary":"grey",name:e.signerType==="SEED"?"check_circle":"radio_button_unchecked",onClick:e.handleSeedClick,class:"cursor-pointer"},null,8,["color","name","onClick"])]),_:1}),t(c,{lines:"1",class:"cursor-pointer",style:{"word-break":"break-word"}},{default:l(()=>[t(r,{title:""},{default:l(()=>[n(s(e.$t("Settings.nostr_keys.wallet_seed.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.nostr_keys.wallet_seed.description")),1)]),_:1}),e.signerType==="SEED"&&e.seedSignerPrivateKeyNsec?(u(),p(r,{key:0,caption:""},{default:l(()=>[t(H,{class:"cursor-pointer q-mt-xs",onClick:o[17]||(o[17]=i=>e.copyText(e.seedSignerPrivateKeyNsec)),outline:"",color:"grey"},{default:l(()=>[t(h,{name:"content_copy",size:"0.8em",color:"grey",class:"q-mr-xs"}),n(s(e.$t("Settings.nostr_keys.wallet_seed.copy_nsec")),1)]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1},8,["active"]),f("",!0),t(d,{active:e.signerType==="PRIVATEKEY","active-class":"text-weight-bold text-primary",clickable:""},{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(h,{color:e.signerType==="PRIVATEKEY"?"primary":"grey",name:e.signerType==="PRIVATEKEY"?"check_circle":"radio_button_unchecked",onClick:e.handleNsecClick,class:"cursor-pointer"},null,8,["color","name","onClick"])]),_:1}),t(c,{lines:"1",class:"cursor-pointer",style:{"word-break":"break-word"}},{default:l(()=>[t(r,{title:""},{default:l(()=>[n(s(e.$t("Settings.nostr_keys.use_nsec.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.nostr_keys.use_nsec.description")),1)]),_:1})]),_:1}),e.signerType==="PRIVATEKEY"?(u(),p(c,{key:0,side:""},{default:l(()=>[t(h,{name:"delete_outline",onClick:e.handleResetPrivateKeySigner,class:"cursor-pointer"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.nostr_keys.use_nsec.delete_tooltip")),1)]),_:1})]),_:1},8,["onClick"])]),_:1})):f("",!0)]),_:1},8,["active"]),e.nip07SignerAvailable?(u(),p(d,{key:2,active:e.signerType==="NIP07","active-class":"text-weight-bold text-primary",clickable:""},{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(h,{color:e.signerType==="NIP07"?"primary":"grey",name:e.signerType==="NIP07"?"check_circle":"radio_button_unchecked",onClick:e.handleExtensionClick,class:"cursor-pointer"},null,8,["color","name","onClick"])]),_:1}),t(c,{lines:"1",class:"cursor-pointer",style:{"word-break":"break-word"}},{default:l(()=>[t(r,{title:""},{default:l(()=>[n(s(e.$t("Settings.nostr_keys.signing_extension.title")),1)]),_:1}),e.nip07SignerAvailable?(u(),p(r,{key:0,caption:""},{default:l(()=>[n(s(e.$t("Settings.nostr_keys.signing_extension.description")),1)]),_:1})):(u(),p(r,{key:1,caption:""},{default:l(()=>[n(s(e.$t("Settings.nostr_keys.signing_extension.not_found")),1)]),_:1}))]),_:1})]),_:1},8,["active"])):f("",!0)]),_:1}),t(Se,{dense:"","dense-toggle":"",class:"text-left",label:e.$t("Settings.sections.nostr.relays.expand_label")},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:""},{default:l(()=>[n(s(e.$t("Settings.sections.nostr.relays.add.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.sections.nostr.relays.add.description")),1)]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(F,{outlined:"",rounded:"",dense:"",modelValue:e.newRelay,"onUpdate:modelValue":o[18]||(o[18]=i=>e.newRelay=i),label:e.$t("Settings.sections.nostr.relays.list.title"),append:""},{append:l(()=>[t(m,{flat:"",dense:"",icon:"add",color:"primary",onClick:e.addRelay},null,8,["onClick"])]),_:1},8,["modelValue","label"])]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:""},{default:l(()=>[n(s(e.$t("Settings.sections.nostr.relays.list.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.sections.nostr.relays.list.description")),1)]),_:1})]),_:1})]),_:1}),(u(!0),D(j,null,te(e.relays,i=>(u(),p(d,{key:i,clickable:""},{default:l(()=>[t(c,{class:"q-mx-none q-pl-none",style:{"max-width":"1.2em"}},{default:l(()=>[t(h,{name:"content_copy",onClick:$=>e.copyText(i),size:"xs",color:"grey",class:"q-mr-sm cursor-pointer"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.sections.nostr.relays.list.copy_tooltip")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),t(c,{class:"q-mx-none q-pl-none",style:{"max-width":"1.5em"}},{default:l(()=>[t(h,{name:"delete_outline",onClick:$=>e.removeRelay(i),size:"1.3em",color:"grey",class:"q-mr-sm cursor-pointer"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.sections.nostr.relays.list.remove_tooltip")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),t(c,{style:{"max-width":"10rem"},class:"cursor-pointer"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(i),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["label"])]),a("div",Wl,[Ll,a("div",Kl,s(e.$t("Settings.sections.payment_requests")),1),zl]),a("div",Gl,[t(d,{class:"q-pt-lg"},{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.payment_requests.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.payment_requests.description")),1)]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.enablePaymentRequest,"onUpdate:modelValue":o[19]||(o[19]=i=>e.enablePaymentRequest=i),label:e.$t("Settings.payment_requests.enable_toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1})]),e.enablePaymentRequest?(u(),D("div",Ql,[t(d,null,{default:l(()=>[t(N,{modelValue:e.receivePaymentRequestsAutomatically,"onUpdate:modelValue":o[20]||(o[20]=i=>e.receivePaymentRequestsAutomatically=i),color:"primary"},null,8,["modelValue"]),t(c,null,{default:l(()=>[t(r,{title:""},{default:l(()=>[n(s(e.$t("Settings.payment_requests.claim_automatically.toggle")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.payment_requests.claim_automatically.description")),1)]),_:1})]),_:1})]),_:1})])):f("",!0),a("div",Hl,[Yl,a("div",Jl,s(e.$t("Settings.sections.nostr_wallet_connect")),1),Zl]),a("div",jl,[t(B,{padding:""},{default:l(()=>[t(d,{class:"q-pt-lg"},{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.nostr_wallet_connect.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.nostr_wallet_connect.description")),1)]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.enableNwc,"onUpdate:modelValue":o[21]||(o[21]=i=>e.enableNwc=i),label:e.$t("Settings.nostr_wallet_connect.enable_toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1}),e.enableNwc?(u(),p(d,{key:0},{default:l(()=>[t(c,null,{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.nostr_wallet_connect.payments_note")),1)]),_:1})]),_:1})]),_:1})):f("",!0),e.enableNwc?(u(),D("div",Xl,[(u(!0),D(j,null,te(e.connections,i=>(u(),p(d,{key:e.getConnectionString(i)},{default:l(()=>[t(c,{class:"q-mx-none q-pl-none",style:{"max-width":"1.5em"}},{default:l(()=>[t(h,{name:"content_copy",onClick:$=>e.copyText(e.getConnectionString(i)),size:"xs",color:"grey",class:"q-mr-sm cursor-pointer"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.nostr_wallet_connect.connection.copy_tooltip")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),t(c,{class:"q-mx-none q-pl-none",style:{"max-width":"1.5em"}},{default:l(()=>[t(h,{name:"qr_code",onClick:$=>e.showNWCEntry(i),size:"1.3em",color:"grey",class:"q-mr-sm cursor-pointer"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.nostr_wallet_connect.connection.qr_tooltip")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),t(c,{style:{"max-width":"10rem"}},{default:l(()=>[t(F,{type:"number",outlined:"",rounded:"",dense:"",modelValue:i.allowanceLeft,"onUpdate:modelValue":$=>i.allowanceLeft=$,label:e.$t("Settings.nostr_wallet_connect.connection.allowance_label")},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024)]),_:2},1024))),128))])):f("",!0)]),_:1})]),e.ndefSupported?(u(),D("div",xl,[eo,a("div",to,s(e.$t("Settings.sections.hardware_features")),1),lo])):f("",!0),a("div",oo,[t(B,{padding:""},{default:l(()=>[e.ndefSupported?(u(),D("div",no,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.hardware_features.webnfc.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.hardware_features.webnfc.description")),1)]),_:1})]),_:1})]),_:1}),t(d,{clickable:"",onClick:o[22]||(o[22]=i=>e.nfcEncoding="text")},{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(h,{color:e.nfcEncoding==="text"?"primary":"grey",name:e.nfcEncoding==="text"?"check_circle":"radio_button_unchecked",class:"cursor-pointer"},null,8,["color","name"])]),_:1}),t(c,{lines:"1",class:"cursor-pointer",style:{"word-break":"break-word"}},{default:l(()=>[t(r,{title:""},{default:l(()=>[n(s(e.$t("Settings.hardware_features.webnfc.text.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.hardware_features.webnfc.text.description")),1)]),_:1})]),_:1})]),_:1}),t(d,{clickable:"",onClick:o[23]||(o[23]=i=>e.nfcEncoding="weburl")},{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(h,{color:e.nfcEncoding==="weburl"?"primary":"grey",name:e.nfcEncoding==="weburl"?"check_circle":"radio_button_unchecked",class:"cursor-pointer"},null,8,["color","name"])]),_:1}),t(c,{lines:"1",class:"cursor-pointer",style:{"word-break":"break-word"}},{default:l(()=>[t(r,{title:""},{default:l(()=>[n(s(e.$t("Settings.hardware_features.webnfc.weburl.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.hardware_features.webnfc.weburl.description")),1)]),_:1})]),_:1})]),_:1}),t(d,{clickable:"",onClick:o[24]||(o[24]=i=>e.nfcEncoding="binary")},{default:l(()=>[t(c,{avatar:""},{default:l(()=>[t(h,{color:e.nfcEncoding==="binary"?"primary":"grey",name:e.nfcEncoding==="binary"?"check_circle":"radio_button_unchecked",class:"cursor-pointer"},null,8,["color","name"])]),_:1}),t(c,null,{default:l(()=>[t(r,{title:""},{default:l(()=>[n(s(e.$t("Settings.hardware_features.webnfc.binary.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.hardware_features.webnfc.binary.description")),1)]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.showNfcButtonInDrawer,"onUpdate:modelValue":o[25]||(o[25]=i=>e.showNfcButtonInDrawer=i),label:e.$t("Settings.hardware_features.webnfc.quick_access.toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1}),t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.hardware_features.webnfc.quick_access.description")),1)]),_:1})]),_:1})]),_:1})])):f("",!0),a("div",ao,[so,a("div",io,s(e.$t("Settings.sections.p2pk_features")),1),ro]),a("div",uo,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.p2pk_features.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.p2pk_features.description")),1)]),_:1})]),_:1})]),_:1}),t(d,{style:{display:"inline-block"}},{default:l(()=>[t(m,{class:"q-ml-sm q-px-md",color:"primary",size:"sm",rounded:"",outline:"",onClick:e.generateKeypair},{default:l(()=>[n(s(e.$t("Settings.p2pk_features.generate_button")),1)]),_:1},8,["onClick"])]),_:1}),t(d,{style:{display:"inline-block"}},{default:l(()=>[t(m,{class:"q-ml-sm q-px-md",color:"primary",size:"sm",rounded:"",outline:"",onClick:e.importNsec},{default:l(()=>[n(s(e.$t("Settings.p2pk_features.import_button")),1)]),_:1},8,["onClick"])]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.showP2PkButtonInDrawer,"onUpdate:modelValue":o[26]||(o[26]=i=>e.showP2PkButtonInDrawer=i),label:e.$t("Settings.p2pk_features.quick_access.toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1}),t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.p2pk_features.quick_access.description")),1)]),_:1})]),_:1})]),_:1}),e.p2pkKeys.length?(u(),p(d,{key:0},{default:l(()=>[e.p2pkKeys.length?(u(),p(Se,{key:0,dense:"","dense-toggle":"",class:"text-left",label:e.$t("Settings.p2pk_features.keys_expansion.label",{count:e.p2pkKeys.length})},{default:l(()=>[(u(!0),D(j,null,te(e.p2pkKeys,i=>(u(),p(d,{key:i.privakey},{default:l(()=>[t(c,{class:"q-mx-none q-pl-none",style:{"max-width":"1.05em"}},{default:l(()=>[t(h,{name:"content_copy",onClick:$=>e.copyText(i.publicKey),size:"1.2em",color:"grey",class:"q-mr-xs cursor-pointer"},null,8,["onClick"])]),_:2},1024),t(c,null,{default:l(()=>[t(r,{caption:"",clickable:"",style:{"word-break":"break-word","font-size":"0.65rem"},class:"q-mx-sm",onClick:$=>e.showP2PKKeyEntry(i.publicKey)},{default:l(()=>[n(s(i.publicKey),1)]),_:2},1032,["onClick"])]),_:2},1024),t(c,{side:""},{default:l(()=>[i.used?(u(),p(H,{key:0,label:e.$t("Settings.p2pk_features.keys_expansion.used_badge"),color:"primary",class:"q-mr-sm"},null,8,["label"])):f("",!0)]),_:2},1024),t(c,{class:"q-mx-none q-pl-none",style:{"max-width":"1.05em"}},{default:l(()=>[t(h,{name:"qr_code",onClick:$=>e.showP2PKKeyEntry(i.publicKey),size:"1em",color:"grey",class:"q-mr-xs cursor-pointer"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["label"])):f("",!0)]),_:1})):f("",!0)]),a("div",co,[po,a("div",mo,s(e.$t("Settings.sections.privacy")),1),fo]),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold q-pt-sm"},{default:l(()=>[n(s(e.$t("Settings.privacy.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.privacy.description")),1)]),_:1})]),_:1})]),_:1}),a("div",null,[t(d,null,{default:l(()=>[t(N,{modelValue:e.checkIncomingInvoices,"onUpdate:modelValue":o[27]||(o[27]=i=>e.checkIncomingInvoices=i),label:e.$t("Settings.privacy.check_incoming.toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1}),t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.privacy.check_incoming.description")),1)]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.checkInvoicesOnStartup,"onUpdate:modelValue":o[28]||(o[28]=i=>e.checkInvoicesOnStartup=i),label:e.$t("Settings.privacy.check_startup.toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1}),t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.privacy.check_startup.description")),1)]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.periodicallyCheckIncomingInvoices,"onUpdate:modelValue":o[29]||(o[29]=i=>e.periodicallyCheckIncomingInvoices=i),label:e.$t("Settings.privacy.check_all.toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1}),t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.privacy.check_all.description")),1)]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.checkSentTokens,"onUpdate:modelValue":o[30]||(o[30]=i=>e.checkSentTokens=i),label:e.$t("Settings.privacy.check_sent.toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1}),t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.privacy.check_sent.description")),1)]),_:1})]),_:1}),e.checkIncomingInvoices||e.checkSentTokens?(u(),p(d,{key:0},{default:l(()=>[e.checkIncomingInvoices||e.checkSentTokens?(u(),p(N,{key:0,modelValue:e.useWebsockets,"onUpdate:modelValue":o[31]||(o[31]=i=>e.useWebsockets=i),label:e.$t("Settings.privacy.websockets.toggle"),color:"primary"},null,8,["modelValue","label"])):f("",!0)]),_:1})):f("",!0),e.checkIncomingInvoices||e.checkSentTokens?(u(),p(d,{key:1,class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.privacy.websockets.description")),1)]),_:1})]),_:1})):f("",!0),t(d,null,{default:l(()=>[t(N,{modelValue:e.getBitcoinPrice,"onUpdate:modelValue":o[32]||(o[32]=i=>e.getBitcoinPrice=i),label:e.$t("Settings.privacy.bitcoin_price.toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1}),t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.privacy.bitcoin_price.description")),1)]),_:1})]),_:1}),e.getBitcoinPrice?(u(),p(d,{key:2},{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.privacy.bitcoin_price.currency.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.privacy.bitcoin_price.currency.description")),1)]),_:1})]),_:1})]),_:1})):f("",!0),e.getBitcoinPrice?(u(),p(d,{key:3},{default:l(()=>[t(c,null,{default:l(()=>[t(we,{modelValue:e.bitcoinPriceCurrency,"onUpdate:modelValue":[o[33]||(o[33]=i=>e.bitcoinPriceCurrency=i),e.onCurrencyChange],options:e.currencyOptions,rounded:"",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])]),_:1})]),_:1})):f("",!0),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n("Wallet Display Unit")]),_:1}),t(r,{caption:""},{default:l(()=>[n("Choose how to display amounts on the wallet screen")]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(we,{modelValue:e.walletDisplayUnit,"onUpdate:modelValue":o[34]||(o[34]=i=>e.walletDisplayUnit=i),options:[{label:"Sats",value:"sat"},{label:"Points",value:"points"}],rounded:"",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue"])]),_:1})]),_:1})]),a("div",go,[vo,a("div",yo,s(e.$t("Settings.sections.experimental")),1),ho]),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.experimental.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.experimental.description")),1)]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.enableReceiveSwaps,"onUpdate:modelValue":o[35]||(o[35]=i=>e.enableReceiveSwaps=i),label:e.$t("Settings.experimental.receive_swaps.toggle"),color:"primary"},{default:l(()=>[t(H,{color:"primary",label:e.$t("Settings.experimental.receive_swaps.badge"),class:"q-mx-sm"},null,8,["label"])]),_:1},8,["modelValue","label"])]),_:1}),t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.experimental.receive_swaps.description")),1)]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.autoPasteEcashReceive,"onUpdate:modelValue":o[36]||(o[36]=i=>e.autoPasteEcashReceive=i),label:e.$t("Settings.experimental.auto_paste.toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1}),t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.experimental.auto_paste.description")),1)]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.auditorEnabled,"onUpdate:modelValue":o[37]||(o[37]=i=>e.auditorEnabled=i),label:e.$t("Settings.experimental.auditor.toggle"),color:"primary"},{default:l(()=>[t(H,{color:"primary",label:e.$t("Settings.experimental.auditor.badge"),class:"q-mx-sm"},null,8,["label"])]),_:1},8,["modelValue","label"])]),_:1}),e.auditorEnabled?(u(),D("div",bo,[t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.experimental.auditor.description")),1)]),_:1})]),_:1}),a("div",ko,[a("div",_o,[t(F,{modelValue:e.auditorUrl,"onUpdate:modelValue":o[39]||(o[39]=i=>e.auditorUrl=i),label:e.$t("Settings.experimental.auditor.url_label"),color:"primary",outlined:"",dense:"",rounded:"",disable:!e.auditorEnabled},{append:l(()=>[t(m,{dense:"",flat:"",icon:"content_copy",onClick:o[38]||(o[38]=i=>e.copyText(e.auditorUrl)),size:"sm",color:"grey"})]),_:1},8,["modelValue","label","disable"])])]),a("div",So,[a("div",wo,[t(F,{modelValue:e.auditorApiUrl,"onUpdate:modelValue":o[41]||(o[41]=i=>e.auditorApiUrl=i),label:e.$t("Settings.experimental.auditor.api_url_label"),color:"primary",outlined:"",dense:"",rounded:"",disable:!e.auditorEnabled},{append:l(()=>[t(m,{dense:"",flat:"",icon:"content_copy",onClick:o[40]||(o[40]=i=>e.copyText(e.auditorApiUrl)),size:"sm",color:"grey"})]),_:1},8,["modelValue","label","disable"])])])])):f("",!0),a("div",Co,[a("div",$o,[a("div",No,[t(N,{modelValue:e.npcV2Enabled,"onUpdate:modelValue":o[42]||(o[42]=i=>e.npcV2Enabled=i),label:"Use npubx.cash",color:"primary"},{default:l(()=>[t(H,{color:"primary",label:e.$t("Settings.experimental.receive_swaps.badge"),class:"q-mx-sm"},null,8,["label"])]),_:1},8,["modelValue"])])])]),e.npcV2Enabled?(u(),D("div",qo,[a("div",Do,[a("div",Po,[t(F,{outlined:"",modelValue:e.npcV2Address,"onUpdate:modelValue":o[44]||(o[44]=i=>e.npcV2Address=i),dense:"",rounded:"",readonly:""},{append:l(()=>[t(h,{name:"content_copy",onClick:o[43]||(o[43]=i=>e.copyText(e.npcV2Address)),size:"xs",color:"grey",class:"q-mr-sm cursor-pointer"},{default:l(()=>[t(q,null,{default:l(()=>[n("Copy Lightning address")]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),a("div",Vo,[a("div",Eo,[t(r,{caption:""},{default:l(()=>[n("npub.cash v2 mint")]),_:1}),t(F,{outlined:"",modelValue:e.npcV2Mint,"onUpdate:modelValue":o[45]||(o[45]=i=>e.npcV2Mint=i),dense:"",rounded:"",readonly:"",class:"q-pt-sm"},null,8,["modelValue"]),a("div",Ao,[t(P,{modelValue:e.npcV2Mint,"onUpdate:modelValue":o[46]||(o[46]=i=>e.npcV2Mint=i),title:e.$t("Settings.lightning_address.npc_v2.choose_mint_title"),placeholder:e.$t("Settings.lightning_address.npc_v2.choose_mint_placeholder"),"show-balances":!1,dense:!0,rounded:!0,"require-active-mint":!1},null,8,["modelValue","title","placeholder"])])]),a("div",Io,[t(N,{modelValue:e.npcV2ClaimAutomatically,"onUpdate:modelValue":o[47]||(o[47]=i=>e.npcV2ClaimAutomatically=i),color:"primary"},null,8,["modelValue"]),t(c,null,{default:l(()=>[t(r,{title:""},{default:l(()=>[n(s(e.$t("Settings.lightning_address.automatic_claim.toggle")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.lightning_address.automatic_claim.description")),1)]),_:1})]),_:1})])])])):f("",!0),a("div",To,[a("div",Bo,[a("div",Uo,[t(N,{modelValue:e.multinutEnabled,"onUpdate:modelValue":o[48]||(o[48]=i=>e.multinutEnabled=i),label:"Use Multinut",color:"primary"},{default:l(()=>[t(H,{color:"primary",label:e.$t("Settings.experimental.receive_swaps.badge"),class:"q-mx-sm"},null,8,["label"]),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.experimental.multinut.description")),1)]),_:1})]),_:1},8,["modelValue"])])])]),a("div",Ro,[a("div",Mo,[a("div",Fo,[t(N,{modelValue:e.nostrMintBackupEnabled,"onUpdate:modelValue":[o[49]||(o[49]=i=>e.nostrMintBackupEnabled=i),e.onNostrMintBackupToggle],label:e.$t("Settings.experimental.nostr_mint_backup.toggle"),color:"primary"},{default:l(()=>[t(H,{color:"primary",label:e.$t("Settings.experimental.receive_swaps.badge"),class:"q-mx-sm"},null,8,["label"])]),_:1},8,["modelValue","label","onUpdate:modelValue"])]),t(r,{caption:"",class:"q-px-md"},{default:l(()=>[n(s(e.$t("Settings.experimental.nostr_mint_backup.description")),1)]),_:1})])]),a("div",Oo,[Wo,a("div",Lo,s(e.$t("Settings.sections.appearance")),1),Ko]),a("div",zo,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.appearance.keyboard.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.appearance.keyboard.description")),1)]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.useNumericKeyboard,"onUpdate:modelValue":o[50]||(o[50]=i=>e.useNumericKeyboard=i),label:e.$t("Settings.appearance.keyboard.toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1}),t(d,{class:"q-pt-none"},{default:l(()=>[t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.appearance.keyboard.toggle_description")),1)]),_:1})]),_:1})]),_:1})]),a("div",Go,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.appearance.bip177.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.appearance.bip177.description")),1)]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.bip177BitcoinSymbol,"onUpdate:modelValue":o[51]||(o[51]=i=>e.bip177BitcoinSymbol=i),label:e.$t("Settings.appearance.bip177.toggle"),color:"primary"},null,8,["modelValue","label"])]),_:1})]),_:1})]),a("div",Qo,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n("Wallet Display")]),_:1}),t(r,{caption:""},{default:l(()=>[n("Choose which balance types to show on the wallet page")]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.showBitcoin,"onUpdate:modelValue":[o[52]||(o[52]=i=>e.showBitcoin=i),e.handleBitcoinToggle],label:"Show Bitcoin (sats)",color:"primary"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(d,null,{default:l(()=>[t(N,{modelValue:e.showPoints,"onUpdate:modelValue":[o[53]||(o[53]=i=>e.showPoints=i),e.handlePointsToggle],label:"Show Points",color:"primary"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),a("div",Ho,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.appearance.theme.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.appearance.theme.description")),1)]),_:1}),a("div",Yo,[e.themes.includes("monochrome")?(u(),p(m,{key:0,dense:"",flat:"",onClick:o[54]||(o[54]=i=>e.changeColor("monochrome")),icon:"format_color_fill",color:"grey",size:"md"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.appearance.theme.tooltips.mono")),1)]),_:1})]),_:1})):f("",!0),e.themes.includes("cyber")?(u(),p(m,{key:1,dense:"",flat:"",onClick:o[55]||(o[55]=i=>e.changeColor("cyber")),icon:"format_color_fill",color:"green",size:"md"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.appearance.theme.tooltips.cyber")),1)]),_:1})]),_:1})):f("",!0),e.themes.includes("freedom")?(u(),p(m,{key:2,dense:"",flat:"",onClick:o[56]||(o[56]=i=>e.changeColor("freedom")),icon:"format_color_fill",color:"pink-13",size:"md"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.appearance.theme.tooltips.freedom")),1)]),_:1})]),_:1})):f("",!0),e.themes.includes("classic")?(u(),p(m,{key:3,dense:"",flat:"",onClick:o[57]||(o[57]=i=>e.changeColor("classic")),icon:"format_color_fill",color:"deep-purple",size:"md"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.appearance.theme.tooltips.nostr")),1)]),_:1})]),_:1})):f("",!0),e.themes.includes("bitcoin")?(u(),p(m,{key:4,dense:"",flat:"",onClick:o[58]||(o[58]=i=>e.changeColor("bitcoin")),icon:"format_color_fill",color:"orange",size:"md"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.appearance.theme.tooltips.bitcoin")),1)]),_:1})]),_:1})):f("",!0),e.themes.includes("mint")?(u(),p(m,{key:5,dense:"",flat:"",onClick:o[59]||(o[59]=i=>e.changeColor("mint")),icon:"format_color_fill",color:"light-green-9",size:"md"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.appearance.theme.tooltips.mint")),1)]),_:1})]),_:1})):f("",!0),e.themes.includes("autumn")?(u(),p(m,{key:6,dense:"",flat:"",onClick:o[60]||(o[60]=i=>e.changeColor("autumn")),icon:"format_color_fill",color:"brown",size:"md"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.appearance.theme.tooltips.nut")),1)]),_:1})]),_:1})):f("",!0),e.themes.includes("salvador")?(u(),p(m,{key:7,dense:"",flat:"",onClick:o[61]||(o[61]=i=>e.changeColor("salvador")),icon:"format_color_fill",color:"blue-10",size:"md"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.appearance.theme.tooltips.blu")),1)]),_:1})]),_:1})):f("",!0),e.themes.includes("flamingo")?(u(),p(m,{key:8,dense:"",flat:"",onClick:o[62]||(o[62]=i=>e.changeColor("flamingo")),icon:"format_color_fill",color:"pink-3",size:"md"},{default:l(()=>[t(q,null,{default:l(()=>[n(s(e.$t("Settings.appearance.theme.tooltips.flamingo")),1)]),_:1})]),_:1})):f("",!0)])]),_:1})]),_:1})]),_:1})]),a("div",Jo,[Zo,a("div",jo,s(e.$t("Settings.language.title")),1),Xo]),a("div",xo,[t(B,{padding:""},{default:l(()=>[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:"",class:"text-weight-bold"},{default:l(()=>[n(s(e.$t("Settings.language.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.language.description")),1)]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(we,{modelValue:e.selectedLanguage,"onUpdate:modelValue":[o[63]||(o[63]=i=>e.selectedLanguage=i),e.changeLanguage],options:e.languageOptions,rounded:"",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),t(Se,{class:"q-pt-lg",dense:"","dense-toggle":"",icon:"code",label:e.$t("Settings.advanced.title")},{default:l(()=>[a("div",null,[t(d,{class:"q-pt-lg"},{default:l(()=>[t(c,null,{default:l(()=>[t(r,{overline:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.title")),1)]),_:1}),t(r,{caption:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.description")),1)]),_:1})]),_:1})]),_:1}),a("div",null,[t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[a("div",en,[e.confirmMnemonic?f("",!0):(u(),D("div",tn,[t(m,{flat:"",dense:"",onClick:o[64]||(o[64]=i=>e.confirmMnemonic=!e.confirmMnemonic)},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.new_seed.button")),1)]),_:1}),t(k,null,{default:l(()=>[t(r,{class:"q-px-sm",caption:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.new_seed.description")),1)]),_:1})]),_:1})])),e.confirmMnemonic?(u(),D("div",ln,[a("span",null,s(e.$t("Settings.advanced.developer.new_seed.confirm_question")),1),t(m,{flat:"",dense:"",class:"q-ml-sm",color:"warning",onClick:o[65]||(o[65]=i=>e.confirmMnemonic=!1)},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.new_seed.cancel")),1)]),_:1}),t(m,{flat:"",dense:"",class:"q-ml-sm",color:"secondary",onClick:o[66]||(o[66]=i=>{e.confirmMnemonic=!1,e.generateNewMnemonic()})},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.new_seed.confirm")),1)]),_:1})])):f("",!0)])]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(k,null,{default:l(()=>[t(m,{dense:"",flat:"",outline:"",click:"",onClick:e.checkActiveProofsSpendable},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.remove_spent.button")),1)]),_:1},8,["onClick"])]),_:1}),t(k,null,{default:l(()=>[t(r,{class:"q-px-sm",caption:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.remove_spent.description")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(k,null,{default:l(()=>[t(m,{dense:"",flat:"",outline:"",click:"",onClick:e.toggleTerminal},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.debug_console.button")),1)]),_:1},8,["onClick"])]),_:1}),t(k,null,{default:l(()=>[t(r,{class:"q-px-sm",caption:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.debug_console.description")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(k,null,{default:l(()=>[t(m,{dense:"",flat:"",outline:"",click:"",onClick:e.exportActiveProofs},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.export_proofs.button")),1)]),_:1},8,["onClick"])]),_:1}),t(k,null,{default:l(()=>[t(r,{class:"q-px-sm",caption:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.export_proofs.description")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(k,null,{default:l(()=>[t(r,{class:"q-pb-sm"},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.keyset_counters.title")),1)]),_:1})]),_:1}),t(k,null,{default:l(()=>[t(r,{class:"q-px-sm",caption:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.keyset_counters.description")),1)]),_:1})]),_:1}),t(k,{class:"q-pa-sm"},{default:l(()=>[(u(!0),D(j,null,te(e.keysetCountersByMint,(i,$)=>(u(),p(k,{class:"q-px-sm",key:$},{default:l(()=>[t(r,{class:"q-px-xs",caption:""},{default:l(()=>[n(s(e.shortUrl($)),1)]),_:2},1024),(u(!0),D(j,null,te(i,(K,ce)=>(u(),p(m,{dense:"",key:ce,flat:"",click:"",onClick:T=>e.increaseKeysetCounter(K.id,1)},{default:l(()=>[n(s(K.id)+" - counter: "+s(K.counter),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(k,null,{default:l(()=>[t(m,{dense:"",flat:"",outline:"",click:"",onClick:e.unsetAllReservedProofs},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.unset_reserved.button")),1)]),_:1},8,["onClick"])]),_:1}),t(k,null,{default:l(()=>[t(r,{class:"q-px-sm",caption:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.unset_reserved.description")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(k,null,{default:l(()=>[t(m,{dense:"",flat:"",outline:"",click:"",onClick:e.showOnboarding},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.show_onboarding.button")),1)]),_:1},8,["onClick"])]),_:1}),t(k,null,{default:l(()=>[t(r,{class:"q-px-sm",caption:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.show_onboarding.description")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(k,null,{default:l(()=>[e.confirmNuke?f("",!0):(u(),p(m,{key:0,dense:"",flat:"",outline:"",click:"",onClick:o[67]||(o[67]=i=>e.confirmNuke=!e.confirmNuke)},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.reset_wallet.button")),1)]),_:1}))]),_:1}),e.confirmNuke?f("",!0):(u(),p(k,{key:0},{default:l(()=>[t(r,{class:"q-px-sm",caption:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.reset_wallet.description")),1)]),_:1})]),_:1})),e.confirmNuke?(u(),p(k,{key:1},{default:l(()=>[a("span",null,s(e.$t("Settings.advanced.developer.reset_wallet.confirm_question")),1),t(m,{flat:"",dense:"",class:"q-ml-sm",color:"primary",onClick:o[68]||(o[68]=i=>e.confirmNuke=!1)},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.reset_wallet.cancel")),1)]),_:1}),t(m,{flat:"",dense:"",class:"q-ml-sm",color:"warning",onClick:o[69]||(o[69]=i=>{e.confirmNuke=!1,e.nukeWallet()})},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.reset_wallet.confirm")),1)]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1}),t(d,null,{default:l(()=>[t(c,null,{default:l(()=>[t(k,null,{default:l(()=>[t(m,{dense:"",flat:"",outline:"",click:"",onClick:e.exportWalletState},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.export_wallet.button")),1)]),_:1},8,["onClick"])]),_:1}),t(k,null,{default:l(()=>[t(r,{class:"q-px-sm",caption:""},{default:l(()=>[n(s(e.$t("Settings.advanced.developer.export_wallet.description")),1)]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1},8,["label"])]),_:1})])]),t(U,{modelValue:e.showP2PKDialog,"onUpdate:modelValue":o[70]||(o[70]=i=>e.showP2PKDialog=i)},null,8,["modelValue"]),t(G,{modelValue:e.showNWCDialog,"onUpdate:modelValue":o[71]||(o[71]=i=>e.showNWCDialog=i)},null,8,["modelValue"]),t(le,{modelValue:e.showTermsDialog,"onUpdate:modelValue":o[72]||(o[72]=i=>e.showTermsDialog=i),"full-width":""},{default:l(()=>[t(X,null,{default:l(()=>[t(L,{class:"row items-center q-pb-none"},{default:l(()=>[a("div",on,s(e.$t("Settings.terms_legal.terms.title")),1),t(Be),z(t(m,{icon:"close",flat:"",round:"",dense:""},null,512),[[Z]])]),_:1}),t(L,{class:"q-pt-none"},{default:l(()=>[nn]),_:1}),t(ae,{align:"right"},{default:l(()=>[z(t(m,{flat:"",label:"Close",color:"primary"},null,512),[[Z]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:e.showLightningQR,"onUpdate:modelValue":o[74]||(o[74]=i=>e.showLightningQR=i)},{default:l(()=>[t(X,{style:{"min-width":"300px"}},{default:l(()=>[t(L,{class:"row items-center q-pb-none"},{default:l(()=>[an,t(Be),z(t(m,{icon:"close",flat:"",round:"",dense:""},null,512),[[Z]])]),_:1}),t(L,{class:"q-pt-none"},{default:l(()=>[a("div",sn,[rn,a("div",dn,[t(R,{value:e.npcAddress,options:{width:200},class:"rounded-borders"},null,8,["value"])]),a("div",un,s(e.npcAddress),1)])]),_:1}),t(ae,{align:"right"},{default:l(()=>[t(m,{flat:"",label:"Copy Address",color:"primary",onClick:o[73]||(o[73]=i=>e.copyText(e.npcAddress))}),z(t(m,{flat:"",label:"Close",color:"primary"},null,512),[[Z]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var pn=ue(rl,[["render",cn]]);const mn=de({name:"ErrorNotFound",components:{SettingsView:pn}}),fn={class:"bg-dark text-white text-center q-pa-md flex flex-center"};function gn(e,o,S,g,w,v){const b=W("SettingsView");return u(),D("div",fn,[t(b)])}var Wn=ue(mn,[["render",gn]]);export{Wn as default};
