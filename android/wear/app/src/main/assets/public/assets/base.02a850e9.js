import{a as c,r as u}from"./focusout.5ce79b63.js";import{r as f,C as d,u as p,a as m,b as g}from"./ui.f9c7454a.js";import{_ as h}from"./index.51f2b46b.js";import"./branding.c750d619.js";import"./i18n.79f7761c.js";function y(t){const e=document.createElement("textarea");e.value=t,e.contentEditable="true",e.style.position="fixed";const o=()=>{};c(o),document.body.appendChild(e),e.focus(),e.select();const i=document.execCommand("copy");return e.remove(),u(o),i}function w(t){return navigator.clipboard!==void 0?navigator.clipboard.writeText(t):new Promise((e,o)=>{const i=y(t);i?e(!0):o(i)})}const s=f("SafeArea",{web:()=>h(()=>import("./web.83220b68.js"),["assets/web.83220b68.js","assets/ui.f9c7454a.js","assets/index.51f2b46b.js","assets/index.e49211c5.css","assets/branding.c750d619.js","assets/i18n.79f7761c.js"]).then(t=>new t.SafeAreaWeb)});window.LOCALE="en";window.windowMixin={data:function(){return{g:{offline:!navigator.onLine,visibleDrawer:!1,extensions:[],user:null,wallet:null,payments:[],allowedThemes:null}}},methods:{changeColor:function(t){document.body.setAttribute("data-theme",t),this.$q.localStorage.set("cashu.theme",t)},changeLanguage:function(t){this.$q.localStorage.set("cashu.language",t.target.value)},toggleDarkMode:function(){this.$q.dark.toggle(),this.$q.localStorage.set("cashu.darkMode",this.$q.dark.isActive)},copyText:function(t,e,o){let i=this.$q.notify,n=this.$i18n;w(t).then(function(){i({message:e||n&&n.t("global.copy_to_clipboard.success")||"Copied to clipboard!",position:o||"bottom"})})},pasteFromClipboard:async function(){let t="";if(window?.Capacitor){const{value:e}=await d.read();t=e}else t=await navigator.clipboard.readText();return t},formatCurrency:function(t,e,o=!1){return e==null&&(e="points"),p().hideBalance&&!o?"****":e=="points"?this.formatPoints(t):e=="msat"?this.fromMsat(t):(e=="usd"&&(t=t/100),e=="eur"&&(t=t/100),new Intl.NumberFormat(window.LOCALE,{style:"currency",currency:e}).format(t))},formatPoints:function(t){return new Intl.NumberFormat(window.LOCALE).format(t)+" points"},fromMsat:function(t){return t=parseInt(t),new Intl.NumberFormat(window.LOCALE).format(t)+" msat"},notifyApiError:function(t){var e={400:"warning",401:"warning",500:"negative"};this.$q.notify({timeout:5e3,type:e[t.response.status]||"warning",message:t.message||t.response.data.message||t.response.data.detail||null,caption:[t.response.status," ",t.response.statusText].join("").toUpperCase()||null,icon:null})},notifySuccess:async function(t,e="top"){this.$q.notify({timeout:5e3,type:"positive",message:t,position:e,progress:!0,actions:[{icon:"close",color:"white",handler:()=>{}}]})},notifyRefreshed:async function(t,e="top"){this.$q.notify({timeout:500,type:"positive",message:t,position:e,actions:[{color:"white",handler:()=>{}}]})},notifyError:async function(t,e=null){this.$q.notify({color:"red",message:t,caption:e,position:"top",progress:!0,actions:[{icon:"close",color:"white",handler:()=>{}}]})},notifyWarning:async function(t,e=null,o=5e3){this.$q.notify({timeout:o,type:"warning",message:t,caption:e,position:"top",progress:!0,actions:[{icon:"close",color:"black",handler:()=>{}}]})},notify:async function(t,e="null",o="top",i=null,n=null){this.$q.notify({timeout:5e3,type:"nuill",color:"grey",message:t,caption:null,position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]})}},created:function(){this.$q.localStorage.getItem("cashu.darkMode")==!0||this.$q.localStorage.getItem("cashu.darkMode")==!1?this.$q.dark.set(this.$q.localStorage.getItem("cashu.darkMode")):this.$q.dark.set(!0),this.g.allowedThemes=window.allowedThemes??["classic"],addEventListener("offline",n=>{this.g.offline=!0}),addEventListener("online",n=>{this.g.offline=!1}),this.$q.localStorage.getItem("cashu.theme")?document.body.setAttribute("data-theme",this.$q.localStorage.getItem("cashu.theme")):this.changeColor("mint");const t=this.$q.localStorage.getItem("cashu.language");t&&(this.$i18n.locale=t);const e=m(),o=g();this.$q.localStorage.getItem("cashu.settings.walletDisplayUnit")||(this.$q.localStorage.getItem("cashu.activeUnit")==="points"?e.walletDisplayUnit="points":e.walletDisplayUnit="sat",o.activeUnit="sat"),window.Capacitor&&Capacitor.getPlatform()==="ios"&&(s.getStatusBarHeight().then(({statusBarHeight:n})=>{document.documentElement.style.setProperty("--safe-area-inset-top",`${n}px`)}),s.removeAllListeners(),s.addListener("safeAreaChanged",n=>{const{insets:a}=n;for(const[r,l]of Object.entries(a))document.documentElement.style.setProperty(`--safe-area-inset-${r}`,`${l}px`)}))}};
