import{a7 as he,c as M,a0 as ge,a8 as Pe,a9 as Q,aa as R,ad as G,af as U,ae as K,r as ne,l as m,w as q,f as X,j as f,J as Y,aU as _e,C as H,aV as we,x as oe,ak as ye,aW as xe,o as ae,z as ie,an as J,B as Ae,aI as Ce,Q as L,a4 as be,h as re,E as se,Y as le,G as j,K as ue,I as $,H as ce,L as T,t as k,V as de,M as ve,O as pe,W as me,X as fe}from"./index.7a0464ee.js";import{d as Se,a as Ie,c as qe}from"./use-timeout.7d10f4b4.js";import{g as Z,s as ee}from"./touch.9135741d.js";import{c as $e}from"./selection.76f2443b.js";function ke(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,s)=>{const l=parseFloat(i);l&&(n[s]=l)}),n}var Te=he({name:"touch-swipe",beforeMount(e,{value:n,arg:i,modifiers:s}){if(s.mouse!==!0&&M.has.touch!==!0)return;const l=s.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:ke(i),direction:Z(s),noop:ge,mouseStart(a){ee(a,t)&&Pe(a)&&(Q(t,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(ee(a,t)){const r=a.target;Q(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,r){M.is.firefox===!0&&R(e,!0);const d=G(a);t.event={x:d.left,y:d.top,time:Date.now(),mouse:r===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){U(a);return}const r=Date.now()-t.event.time;if(r===0)return;const d=G(a),P=d.left-t.event.x,u=Math.abs(P),h=d.top-t.event.y,p=Math.abs(h);if(t.event.mouse!==!0){if(u<t.sensitivity[1]&&p<t.sensitivity[1]){t.end(a);return}}else if(window.getSelection().toString()!==""){t.end(a);return}else if(u<t.sensitivity[2]&&p<t.sensitivity[2])return;const w=u/r,y=p/r;t.direction.vertical===!0&&u<p&&u<100&&y>t.sensitivity[0]&&(t.event.dir=h<0?"up":"down"),t.direction.horizontal===!0&&u>p&&p<100&&w>t.sensitivity[0]&&(t.event.dir=P<0?"left":"right"),t.direction.up===!0&&u<p&&h<0&&u<100&&y>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&u<p&&h>0&&u<100&&y>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&u>p&&P<0&&p<100&&w>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&u>p&&P>0&&p<100&&w>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(U(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),$e(),t.styleCleanup=S=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const x=()=>{document.body.classList.remove("no-pointer-events--children")};S===!0?setTimeout(x,50):x()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:r,distance:{x:u,y:p}})):t.end(a)},end(a){t.event!==void 0&&(K(t,"temp"),M.is.firefox===!0&&R(e,!1),t.styleCleanup?.(!0),a!==void 0&&t.event.dir!==!1&&U(a),t.event=void 0)}};if(e.__qtouchswipe=t,s.mouse===!0){const a=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";Q(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}M.has.touch===!0&&Q(t,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchswipe;i!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&i.end(),i.handler=n.value),i.direction=Z(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(K(n,"main"),K(n,"temp"),M.is.firefox===!0&&R(e,!1),n.styleCleanup?.(),delete e.__qtouchswipe)}});function We(){let e=Object.create(null);return{getCache:(n,i)=>e[n]===void 0?e[n]=typeof i=="function"?i():i:e[n],setCache(n,i){e[n]=i},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const Be={name:{required:!0},disable:Boolean},te={setup(e,{slots:n}){return()=>f("div",{class:"q-panel scroll",role:"tabpanel"},H(n.default))}},Ne={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Oe=["update:modelValue","beforeTransition","transition"];function Ee(){const{props:e,emit:n,proxy:i}=X(),{getCache:s}=We(),{registerTimeout:l}=Se();let t,a;const r=ne(null),d={value:null};function P(o){const c=e.vertical===!0?"up":"left";A((i.$q.lang.rtl===!0?-1:1)*(o.direction===c?1:-1))}const u=m(()=>[[Te,P,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),h=m(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),p=m(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),w=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),y=m(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),S=m(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),x=m(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);q(()=>e.modelValue,(o,c)=>{const _=C(o)===!0?N(o):-1;a!==!0&&I(_===-1?0:_<N(c)?-1:1),d.value!==_&&(d.value=_,n("beforeTransition",o,c),l(()=>{n("transition",o,c)},e.transitionDuration))});function W(){A(1)}function V(){A(-1)}function B(o){n("update:modelValue",o)}function C(o){return o!=null&&o!==""}function N(o){return t.findIndex(c=>c.props.name===o&&c.props.disable!==""&&c.props.disable!==!0)}function O(){return t.filter(o=>o.props.disable!==""&&o.props.disable!==!0)}function I(o){const c=o!==0&&e.animated===!0&&d.value!==-1?"q-transition--"+(o===-1?h.value:p.value):null;r.value!==c&&(r.value=c)}function A(o,c=d.value){let _=c+o;for(;_!==-1&&_<t.length;){const z=t[_];if(z!==void 0&&z.props.disable!==""&&z.props.disable!==!0){I(o),a=!0,n("update:modelValue",z.props.name),setTimeout(()=>{a=!1});return}_+=o}e.infinite===!0&&t.length!==0&&c!==-1&&c!==t.length&&A(o,o===-1?t.length:-1)}function F(){const o=N(e.modelValue);return d.value!==o&&(d.value=o),!0}function v(){const o=C(e.modelValue)===!0&&F()&&t[d.value];return e.keepAlive===!0?[f(we,S.value,[f(x.value===!0?s(y.value,()=>({...te,name:y.value})):te,{key:y.value,style:w.value},()=>o)])]:[f("div",{class:"q-panel scroll",style:w.value,key:y.value,role:"tabpanel"},[o])]}function b(){if(t.length!==0)return e.animated===!0?[f(Y,{name:r.value},v)]:v()}function E(o){return t=_e(H(o.default,[])).filter(c=>c.props!==null&&c.props.slot===void 0&&C(c.props.name)===!0),t.length}function g(){return t}return Object.assign(i,{next:W,previous:V,goTo:B}),{panelIndex:d,panelDirectives:u,updatePanelsList:E,updatePanelIndex:F,getPanelContent:b,getEnabledPanels:O,getPanels:g,isValidPanelName:C,keepAliveProps:S,needsUniqueKeepAliveWrapper:x,goToPanelByOffset:A,goToPanel:B,nextPanel:W,previousPanel:V}}var at=oe({name:"QCarouselSlide",props:{...Be,imgSrc:String},setup(e,{slots:n}){const i=m(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>f("div",{class:"q-carousel__slide",style:i.value},H(n.default))}});let D=0;const Me={fullscreen:Boolean,noRouteFullscreenExit:Boolean},De=["update:fullscreen","fullscreen"];function Le(){const e=X(),{props:n,emit:i,proxy:s}=e;let l,t,a;const r=ne(!1);ye(e)===!0&&q(()=>s.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&u()}),q(()=>n.fullscreen,h=>{r.value!==h&&d()}),q(r,h=>{i("update:fullscreen",h),i("fullscreen",h)});function d(){r.value===!0?u():P()}function P(){r.value!==!0&&(r.value=!0,a=s.$el.parentNode,a.replaceChild(t,s.$el),document.body.appendChild(s.$el),D++,D===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:u},J.add(l))}function u(){r.value===!0&&(l!==void 0&&(J.remove(l),l=void 0),a.replaceChild(s.$el,t),r.value=!1,D=Math.max(0,D-1),D===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),s.$el.scrollIntoView!==void 0&&setTimeout(()=>{s.$el.scrollIntoView()})))}return xe(()=>{t=document.createElement("span")}),ae(()=>{n.fullscreen===!0&&P()}),ie(u),Object.assign(s,{toggleFullscreen:d,setFullscreen:P,exitFullscreen:u}),{inFullscreen:r,toggleFullscreen:d}}const Ve=["top","right","bottom","left"],Fe=["regular","flat","outline","push","unelevated"];var it=oe({name:"QCarousel",props:{...Ie,...Ne,...Me,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Fe.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Ve.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...De,...Oe],setup(e,{slots:n}){const{proxy:{$q:i}}=X(),s=qe(e,i);let l=null,t;const{updatePanelsList:a,getPanelContent:r,panelDirectives:d,goToPanel:P,previousPanel:u,nextPanel:h,getEnabledPanels:p,panelIndex:w}=Ee(),{inFullscreen:y}=Le(),S=m(()=>y.value!==!0&&e.height!==void 0?{height:e.height}:{}),x=m(()=>e.vertical===!0?"vertical":"horizontal"),W=m(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),V=m(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(y.value===!0?" fullscreen":"")+(s.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${x.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${W.value}`:"")),B=m(()=>{const v=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?v.reverse():v}),C=m(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),N=m(()=>e.navigationActiveIcon||C.value),O=m(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));q(()=>e.modelValue,()=>{e.autoplay&&I()}),q(()=>e.autoplay,v=>{v?I():l!==null&&(clearTimeout(l),l=null)});function I(){const v=Ce(e.autoplay)===!0?Math.abs(e.autoplay):5e3;l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,v>=0?h():u()},v)}ae(()=>{e.autoplay&&I()}),ie(()=>{l!==null&&clearTimeout(l)});function A(v,b){return f("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${v} q-carousel__navigation--${W.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[f("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},p().map(b))])}function F(){const v=[];if(e.navigation===!0){const b=n["navigation-icon"]!==void 0?n["navigation-icon"]:g=>f(L,{key:"nav"+g.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${g.active===!0?"":"in"}active`,...g.btnProps,onClick:g.onClick}),E=t-1;v.push(A("buttons",(g,o)=>{const c=g.props.name,_=w.value===o;return b({index:o,maxIndex:E,name:c,active:_,btnProps:{icon:_===!0?N.value:C.value,size:"sm",...O.value},onClick:()=>{P(c)}})}))}else if(e.thumbnails===!0){const b=e.controlColor!==void 0?` text-${e.controlColor}`:"";v.push(A("thumbnails",E=>{const g=E.props;return f("img",{key:"tmb#"+g.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${g.name===e.modelValue?"":"in"}active`+b,src:g.imgSrc||g["img-src"],onClick:()=>{P(g.name)}})}))}return e.arrows===!0&&w.value>=0&&((e.infinite===!0||w.value>0)&&v.push(f("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${x.value} absolute flex flex-center`},[f(L,{icon:B.value[0],...O.value,onClick:u})])),(e.infinite===!0||w.value<t-1)&&v.push(f("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${x.value} absolute flex flex-center`},[f(L,{icon:B.value[1],...O.value,onClick:h})]))),be(n.control,v)}return()=>(t=a(n),f("div",{class:V.value,style:S.value},[Ae("div",{class:"q-carousel__slides-container"},r(),"sl-cont",e.swipeable,()=>d.value)].concat(F())))}});const ze=re({name:"iOSPWAPrompt",mixins:[windowMixin],props:{},data:function(){return{showIosPWAPromptLocal:localStorage.getItem("cashu.ui.showIosPWAPrompt")!="seen",showIosPWAPrompt:!1}},mounted(){this.showIosPWAPromptLocal&&this.isiOsSafari()&&!this.isInStandaloneMode()&&!this.isNativeApp()&&(this.showIosPWAPrompt=!0)},watch:{},computed:{},methods:{closePrompt(){localStorage.setItem("cashu.ui.showIosPWAPrompt","seen"),this.showIosPWAPrompt=!1},isiOsSafari(){const e=window.navigator.userAgent.toLowerCase();return/iphone|ipod/.test(e)&&/safari/.test(e)},isInStandaloneMode(){return"standalone"in window.navigator&&window.navigator.standalone},isNativeApp(){return!!window?.Capacitor}}}),Qe=e=>(me("data-v-7e5005cc"),e=e(),fe(),e),je={key:0,class:"pwa-prompt q-pa-md q-mx-auto text-center"},Re={class:"pwa-prompt-content"},Ue=Qe(()=>T("div",{class:"pwa-prompt-arrow"},null,-1));function Ke(e,n,i,s,l,t){const a=le("i18n-t");return j(),ue(Y,{"enter-active-class":"animated fadeInUp"},{default:$(()=>[e.showIosPWAPrompt?(j(),ce("div",je,[T("div",Re,[k(a,{keypath:"iOSPWAPrompt.text",tag:"span"},{icon:$(()=>[k(de,{name:"ios_share",size:"sm"})]),buttonText:$(()=>[T("strong",null,ve(e.$t("iOSPWAPrompt.buttonText")),1)]),_:1}),k(L,{flat:"",icon:"close",onClick:e.closePrompt,size:"sm",class:"close-btn q-px-sm"},null,8,["onClick"])]),Ue])):pe("",!0)]),_:1})}var rt=se(ze,[["render",Ke],["__scopeId","data-v-7e5005cc"]]);const Xe=re({name:"AndroidPWAPrompt",data(){return{showAndroidPWAPromptLocal:localStorage.getItem("cashu.ui.showAndroidPWAPrompt")!="seen",showAndroidPWAPrompt:!1}},mounted(){this.showAndroidPWAPromptLocal&&this.isChromeOnAndroid()&&!this.isInStandaloneMode()&&!this.isNativeApp()&&(this.showAndroidPWAPrompt=!0)},methods:{closePrompt(){localStorage.setItem("cashu.ui.showAndroidPWAPrompt","seen"),this.showAndroidPWAPrompt=!1},isChromeOnAndroid(){const e=navigator.userAgent.toLowerCase(),n=/android/.test(e),i=/chrome/.test(e)&&!/edge|edg|opr|opera/.test(e);return n&&i},isInStandaloneMode(){return window.matchMedia("(display-mode: standalone)").matches},isNativeApp(){return!!window?.Capacitor}}}),Ye=e=>(me("data-v-3fdeb010"),e=e(),fe(),e),He={key:0,class:"pwa-prompt android-pwa-prompt q-pa-md text-center"},Ge={class:"pwa-prompt-content"},Je=Ye(()=>T("div",{class:"pwa-prompt-arrow"},null,-1));function Ze(e,n,i,s,l,t){const a=le("i18n-t");return j(),ue(Y,{appear:"","enter-active-class":"animated fadeInDown"},{default:$(()=>[e.showAndroidPWAPrompt?(j(),ce("div",He,[T("div",Ge,[k(a,{keypath:"AndroidPWAPrompt.text",tag:"span"},{icon:$(()=>[k(de,{name:"more_vert",size:"sm"})]),buttonText:$(()=>[T("strong",null,ve(e.$t("AndroidPWAPrompt.buttonText")),1)]),_:1}),k(L,{flat:"",icon:"close",onClick:e.closePrompt,size:"sm",class:"close-btn q-px-sm"},null,8,["onClick"])]),Je])):pe("",!0)]),_:1})}var st=se(Xe,[["render",Ze],["__scopeId","data-v-3fdeb010"]]);export{st as A,it as Q,Ne as a,Oe as b,Ee as c,at as d,rt as i,Be as u};
