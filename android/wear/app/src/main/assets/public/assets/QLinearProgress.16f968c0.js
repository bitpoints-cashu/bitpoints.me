import{x as L,r as v,l as a,a2 as M,o as H,j as r,J as E,C as O,U as A,w as J,am as $,f as R,b0 as U,b1 as W,a4 as X}from"./index.7a0464ee.js";import{u as G,a as K}from"./QSpinnerDots.49327f1a.js";import{d as T,a as V,c as Y}from"./use-timeout.7d10f4b4.js";const Z=1.7778;var re=L({name:"QImg",props:{...G,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Z},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:o,emit:n}){const S=v(e.initialRatio),m=K(e,S),s=R(),{registerTimeout:h,removeTimeout:f}=T(),{registerTimeout:q,removeTimeout:y}=T(),u=a(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),k=a(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),i=[v(null),v(u.value)],l=v(0),d=v(!1),g=v(!1),_=a(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),x=a(()=>({width:e.width,height:e.height})),D=a(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),I=a(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function N(){if(y(),e.loadingShowDelay===0){d.value=!0;return}q(()=>{d.value=!0},e.loadingShowDelay)}function w(){y(),d.value=!1}function P({target:t}){$(s)===!1&&(f(),S.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,C(t,1))}function C(t,c){c===1e3||$(s)===!0||(t.complete===!0?Q(t):h(()=>{C(t,c+1)},50))}function Q(t){$(s)!==!0&&(l.value=l.value^1,i[l.value].value=null,w(),t.getAttribute("__qerror")!=="true"&&(g.value=!1),n("load",t.currentSrc||t.src))}function j(t){f(),w(),g.value=!0,i[l.value].value=k.value,i[l.value^1].value=u.value,n("error",t)}function z(t){const c=i[t].value,b={key:"img_"+t,class:D.value,style:I.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...c};return l.value===t?Object.assign(b,{class:b.class+"current",onLoad:P,onError:j}):b.class+="loaded",r("div",{class:"q-img__container absolute-full",key:"img"+t},r("img",b))}function F(){return d.value===!1?r("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},O(o[g.value===!0?"error":"default"])):r("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():e.noSpinner===!0?void 0:[r(A,{color:e.spinnerColor,size:e.spinnerSize})])}{let t=function(){J(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,c=>{f(),g.value=!1,c===null?(w(),i[l.value^1].value=u.value):N(),i[l.value].value=c},{immediate:!0})};M.value===!0?H(t):t()}return()=>{const t=[];return m.value!==null&&t.push(r("div",{key:"filler",style:m.value})),i[0].value!==null&&t.push(z(0)),i[1].value!==null&&t.push(z(1)),t.push(r(E,{name:"q-transition--fade"},F)),r("div",{key:"main",class:_.value,style:x.value,role:"img","aria-label":e.alt},t)}}});const p={xs:2,sm:4,md:6,lg:10,xl:14};function B(e,o,n){return{transform:o===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var ie=L({name:"QLinearProgress",props:{...V,...U,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:o}){const{proxy:n}=R(),S=Y(e,n.$q),m=W(e,p),s=a(()=>e.indeterminate===!0||e.query===!0),h=a(()=>e.reverse!==e.query),f=a(()=>({...m.value!==null?m.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),q=a(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),y=a(()=>B(e.buffer!==void 0?e.buffer:1,h.value,n.$q)),u=a(()=>`with${e.instantFeedback===!0?"out":""}-transition`),k=a(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${S.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),i=a(()=>B(s.value===!0?1:e.value,h.value,n.$q)),l=a(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${s.value===!0?"in":""}determinate`),d=a(()=>({width:`${e.value*100}%`})),g=a(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const _=[r("div",{class:k.value,style:y.value}),r("div",{class:l.value,style:i.value})];return e.stripe===!0&&s.value===!1&&_.push(r("div",{class:g.value,style:d.value})),r("div",{class:q.value,style:f.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},X(o.default,_))}}});export{re as Q,ie as a};
