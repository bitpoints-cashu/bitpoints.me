import{l as U,w as T,aa as A,o as D,f as y,n as k,ab as H,A as x,ac as B}from"./index.51f2b46b.js";const h={dark:{type:Boolean,default:null}};function I(u,r){return U(()=>u.dark===null?r.dark.isActive:u.dark)}const j={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},q=["beforeShow","show","beforeHide","hide"];function C({showing:u,canShow:r,hideOnRouteChange:l,handleShow:n,handleHide:i,processOnMount:M}){const d=y(),{props:o,emit:t,proxy:c}=d;let a;function g(e){u.value===!0?f(e):m(e)}function m(e){if(o.disable===!0||e?.qAnchorHandled===!0||r!==void 0&&r(e)!==!0)return;const s=o["onUpdate:modelValue"]!==void 0;s===!0&&(t("update:modelValue",!0),a=e,k(()=>{a===e&&(a=void 0)})),(o.modelValue===null||s===!1)&&p(e)}function p(e){u.value!==!0&&(u.value=!0,t("beforeShow",e),n!==void 0?n(e):t("show",e))}function f(e){if(o.disable===!0)return;const s=o["onUpdate:modelValue"]!==void 0;s===!0&&(t("update:modelValue",!1),a=e,k(()=>{a===e&&(a=void 0)})),(o.modelValue===null||s===!1)&&V(e)}function V(e){u.value!==!1&&(u.value=!1,t("beforeHide",e),i!==void 0?i(e):t("hide",e))}function b(e){o.disable===!0&&e===!0?o["onUpdate:modelValue"]!==void 0&&t("update:modelValue",!1):e===!0!==u.value&&(e===!0?p:V)(a)}T(()=>o.modelValue,b),l!==void 0&&A(d)===!0&&T(()=>c.$route.fullPath,()=>{l.value===!0&&u.value===!0&&f()}),M===!0&&D(()=>{b(o.modelValue)});const v={show:m,hide:f,toggle:g};return Object.assign(c,v),v}function E(){let u=null;const r=y();function l(){u!==null&&(clearTimeout(u),u=null)}return H(l),x(l),{removeTimeout:l,registerTimeout(n,i){l(),B(r)===!1&&(u=setTimeout(()=>{u=null,n()},i))}}}export{h as a,q as b,I as c,E as d,C as e,j as u};
