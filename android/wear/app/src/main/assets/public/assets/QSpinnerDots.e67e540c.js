import{x as L,r as M,l as f,w as N,A as E,am as k,ah as H,j as T,K as ae,f as ie,y as ne,a9 as oe,aM as re,aN as se}from"./index.51f2b46b.js";import{u as le,v as A,a as ue,b as ce,c as de,r as D,s as fe,p as j,d as me}from"./position-engine.d1b63720.js";import{u as ve,b as ge,d as he,e as pe}from"./use-timeout.040996d9.js";import{f as y,a as be,g as ye,h as Te}from"./private.use-form.8e692222.js";import{s as Se,g as we}from"./scroll.d64191c5.js";import{c as q}from"./selection.bfd41920.js";var ke=L({name:"QTooltip",inheritAttrs:!1,props:{...le,...ve,...y,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...y.transitionShow,default:"jump-down"},transitionHide:{...y.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:A},self:{type:String,default:"top middle",validator:A},offset:{type:Array,default:()=>[14,14],validator:ue},scrollTarget:Se,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...ge],setup(e,{slots:o,emit:n,attrs:g}){let s,l;const h=ie(),{proxy:{$q:a}}=h,u=M(null),m=M(!1),Q=f(()=>j(e.anchor,a.lang.rtl)),B=f(()=>j(e.self,a.lang.rtl)),R=f(()=>e.persistent!==!0),{registerTick:W,removeTick:_}=be(),{registerTimeout:v}=he(),{transitionProps:$,transitionStyle:z}=ye(e),{localScrollTarget:S,changeScrollEvent:I,unconfigureScrollTarget:K}=ce(e,x),{anchorEl:i,canShow:U,anchorEvents:c}=de({showing:m,configureAnchorEl:Z}),{show:V,hide:p}=pe({showing:m,canShow:U,handleShow:G,handleHide:J,hideOnRouteChange:R,processOnMount:!0});Object.assign(c,{delayShow:X,delayHide:Y});const{showPortal:w,hidePortal:P,renderPortal:F}=Te(h,u,te,"tooltip");if(a.platform.is.mobile===!0){const t={anchorEl:i,innerRef:u,onClickOutside(r){return p(r),r.target.classList.contains("q-dialog__backdrop")&&oe(r),!0}},b=f(()=>e.modelValue===null&&e.persistent!==!0&&m.value===!0);N(b,r=>{(r===!0?me:D)(t)}),E(()=>{D(t)})}function G(t){w(),W(()=>{l=new MutationObserver(()=>d()),l.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),d(),x()}),s===void 0&&(s=N(()=>a.screen.width+"|"+a.screen.height+"|"+e.self+"|"+e.anchor+"|"+a.lang.rtl,d)),v(()=>{w(!0),n("show",t)},e.transitionDuration)}function J(t){_(),P(),C(),v(()=>{P(!0),n("hide",t)},e.transitionDuration)}function C(){l!==void 0&&(l.disconnect(),l=void 0),s!==void 0&&(s(),s=void 0),K(),k(c,"tooltipTemp")}function d(){fe({targetEl:u.value,offset:e.offset,anchorEl:i.value,anchorOrigin:Q.value,selfOrigin:B.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function X(t){if(a.platform.is.mobile===!0){q(),document.body.classList.add("non-selectable");const b=i.value,r=["touchmove","touchcancel","touchend","click"].map(O=>[b,O,"delayHide","passiveCapture"]);H(c,"tooltipTemp",r)}v(()=>{V(t)},e.delay)}function Y(t){a.platform.is.mobile===!0&&(k(c,"tooltipTemp"),q(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),v(()=>{p(t)},e.hideDelay)}function Z(){if(e.noParentEvent===!0||i.value===null)return;const t=a.platform.is.mobile===!0?[[i.value,"touchstart","delayShow","passive"]]:[[i.value,"mouseenter","delayShow","passive"],[i.value,"mouseleave","delayHide","passive"]];H(c,"anchor",t)}function x(){if(i.value!==null||e.scrollTarget!==void 0){S.value=we(i.value,e.scrollTarget);const t=e.noParentEvent===!0?d:p;I(S.value,t)}}function ee(){return m.value===!0?T("div",{...g,ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",g.class],style:[g.style,z.value],role:"tooltip"},ne(o.default)):null}function te(){return T(ae,$.value,ee)}return E(C),Object.assign(h.proxy,{updatePosition:d}),F}});const He={ratio:[String,Number]};function Ae(e,o){return f(()=>{const n=Number(e.ratio||(o!==void 0?o.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Pe='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>';var De=L({name:"QSpinnerDots",props:re,setup(e){const{cSize:o,classes:n}=se(e);return()=>T("svg",{class:n.value,fill:"currentColor",width:o.value,height:o.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:Pe})}});export{ke as Q,De as a,Ae as b,He as u};
